var e,t,n=require("atom-package-deps"),r=y(require("path")),i=require("url").parse,s=require("assert"),o=s,a=y(s),u=y(require("react-dom")),l=require("react"),c=(e={},t=l,Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})})),e),f=y(l),h=require("electron").shell,p=require("atom"),d=p.CompositeDisposable,g=p.Disposable,m=p.Emitter,v=p.Range;function y(e){return e&&e.__esModule?e.default:e}function _(e,t,n){Object.defineProperty(e,t,{get:n,enumerable:!0})}var b="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};let w=null;const k={error:3,warning:2,info:1},x={error:"Error",warning:"Warning",info:"Info"},S=["center","bottom"];function E(e){return e.location.position}function C(e){return e.location.file}function P(e){return atom.project.relativizePath(C(e)||"")[1]}function A(){let e=atom.workspace.getCenter().getActivePaneItem();return!atom.workspace.isTextEditor(e)&&e&&w&&e.getURI&&"atom://linter-ui-default"===e.getURI()&&(!w.isAlive||w.isAlive())?e=w:w=e,atom.workspace.isTextEditor(e)?e:null}function z(e,t,n=null){const r=[];return e.forEach((function(e){e&&e.location&&(null!==t&&C(e)!==t||n&&e.severity!==n||r.push(e))})),r}function R(e,t,n){const r=[],i="Point"===n.constructor.name?new v(n,n):v.fromObject(n);return e.forEach((function(e){const n=C(e),s=E(e);n&&s&&n===t&&"function"==typeof s.intersectsWith&&s.intersectsWith(i)&&r.push(e)})),r}function I(e,t){const n={searchAllPanes:!0};t&&(n.initialLine=t.row,n.initialColumn=t.column),atom.workspace.open(e,n)}function T(e,t=!1){let n,r;if(t){if(!e.reference||!e.reference.file)return void console.warn("[Linter-UI-Default] Message does not have a valid reference. Ignoring");n=e.reference.file,r=e.reference.position}else{const t=E(e);n=C(e),t&&(r=t.start)}n&&I(n,r)}function j(e){2===e.version&&e.url&&h.openExternal(e.url)}function $(e,t){const n={};return e.forEach((function(e){n[e.column]=e.type})),t.slice().sort((function(e,t){if(n.severity){const r="asc"===n.severity?1:-1,i=k[e.severity],s=k[t.severity];if(i!==s)return r*(i>s?1:-1)}if(n.linterName){const r="asc"===n.linterName?1:-1,i=e.severity.localeCompare(t.severity);if(0!==i)return r*i}if(n.file){const r="asc"===n.file?1:-1,i=P(e),s=i.length,o=P(t),a=o.length;if(s!==a)return r*(s>a?1:-1);if(i!==o)return r*i.localeCompare(o)}if(n.line){const r="asc"===n.line?1:-1,i=E(e),s=E(t);if(i&&!s)return 1;if(s&&!i)return-1;if(i&&s){if(i.start.row!==s.start.row)return r*(i.start.row>s.start.row?1:-1);if(i.start.column!==s.start.column)return r*(i.start.column>s.start.column?1:-1)}}return 0}))}function L(e){return e.slice().sort((function(e,t){return t.priority-e.priority}))}function O(e,t){if("apply"in t)return t.apply(),!0;const n=t.position,r=t.replaceWith;if("currentText"in t){const r=t.currentText,i=e.getTextInBufferRange(n);if(r!==i)return console.warn("[linter-ui-default] Not applying fix because text did not match the expected one","expected",r,"but got",i),!1}return e.setTextInBufferRange(n,r),!0}class D{constructor(){let e;this.emitter=new m,this.messages=[],this.filteredMessages=[],this.subscriptions=new d,this.subscriptions.add(atom.config.observe("linter-ui-default.panelRepresents",(e=>{const t=void 0!==this.panelRepresents;this.panelRepresents=e,t&&this.update()}))),this.subscriptions.add(atom.workspace.getCenter().observeActivePaneItem((()=>{e&&(e.dispose(),e=null);const t=A();if(t){"Entire Project"!==this.panelRepresents&&this.update();let n=-1;e=t.onDidChangeCursorPosition((({newBufferPosition:e})=>{n!==e.row&&"Current Line"===this.panelRepresents&&(n=e.row,this.update())}))}("Entire Project"!==this.panelRepresents||t)&&this.update()}))),this.subscriptions.add(new g((function(){e&&e.dispose()})))}getFilteredMessages(){let e=[];if("Entire Project"===this.panelRepresents)e=this.messages;else if("Current File"===this.panelRepresents){const t=A();if(!t)return[];e=z(this.messages,t.getPath())}else if("Current Line"===this.panelRepresents){const t=A();if(!t)return[];const n=t.getCursors()[0].getBufferRow();e=R(this.messages,t.getPath(),v.fromObject([[n,0],[n,1/0]]))}return e}update(e=null){Array.isArray(e)&&(this.messages=e),this.filteredMessages=this.getFilteredMessages(),this.emitter.emit("observe-messages",this.filteredMessages)}onDidChangeMessages(e){return this.emitter.on("observe-messages",e)}dispose(){this.subscriptions.dispose()}}var B,M,N,W=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),F=(N=c)&&N.__esModule?N:{default:N},U={};Object.defineProperty(U,"__esModule",{value:!0});var q=void 0;U.ARROW=q;var H=function(e){(0,Z.default)(Array.isArray(e.rows),"rows must be an Array"),(0,Z.default)(Array.isArray(e.columns),"columns must be an Array"),(0,Z.default)(!e.sortInfo||Array.isArray(e.sortInfo),"sortInfo must be an Array"),(0,Z.default)("function"==typeof e.sort,"sort must be a function"),(0,Z.default)("function"==typeof e.rowKey,"rowKey must be a function"),(0,Z.default)("function"==typeof e.renderHeaderColumn,"renderHeaderColumn must be a function"),(0,Z.default)("function"==typeof e.renderBodyColumn,"renderBodyColumn must be a function")};U.validateProps=H;var Z=function(e){return e&&e.__esModule?e:{default:e}}(o);q={UP:"↑",DOWN:"↓",BOTH:"⇅"},U.ARROW=q;function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var G=y((M=B=function(e){function t(){var e,n,r;V(this,t);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return n=r=K(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={sort:null},K(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,F.default.Component),W(t,[{key:"getSort",value:function(){return this.state.sort||this.props.initialSort||[]}},{key:"findSortItemByKey",value:function(e){var t=this.getSort();if(Array.isArray(t))for(var n=0,r=t.length;n<r;++n)if(t[n].column===e)return n;return-1}},{key:"generateSortCallback",value:function(e){var t=this;return function(n){var r=t.getSort(),i=n.shiftKey,s=t.findSortItemByKey(e);if(s<0){var o={column:e,type:"asc"};(r=i?r:[]).push(o)}else{var a=r[s];a.type="asc"===a.type?"desc":null,i?a.type||r.splice(s,1):r=a.type?[a]:[]}t.setState({sort:r})}}},{key:"renderHeaderIcon",value:function(e){var t=this.getSort(),n=t?this.findSortItemByKey(e):-1,r=U.ARROW.BOTH;return t&&-1!==n&&(r="asc"===t[n].type?U.ARROW.UP:U.ARROW.DOWN),F.default.createElement("span",{className:"sort-icon"},r)}},{key:"render",value:function(){var e=this,n=this.props,r=n.rows,i=n.columns,s=n.className,o=void 0===s?"":s,a=n.rowKey,u=n.sort,l=n.renderHeaderColumn,c=void 0===l?t.defaultHeaderRenderer:l,f=n.renderBodyColumn,h=void 0===f?t.defaultBodyRenderer:f;(0,U.validateProps)(this.props);var p=r,d=this.getSort();return d.length&&(p=u(d,p)),F.default.createElement("table",{className:"sb-table "+o,style:this.props.style},F.default.createElement("thead",null,F.default.createElement("tr",null,i.map((function(t){return F.default.createElement("th",{key:t.key,className:t.sortable&&"sortable",onClick:t.sortable&&e.generateSortCallback(t.key)},c(t)," ",t.sortable&&e.renderHeaderIcon(t.key))})))),F.default.createElement("tbody",null,p.map((function(e){var t=a(e);return F.default.createElement("tr",{key:t},i.map((function(n){var r=n.onClick,i=r&&function(t){r(t,e)};return F.default.createElement("td",{onClick:i,key:t+"."+n.key},h(e,n.key))})))}))))}}],[{key:"defaultHeaderRenderer",value:function(e){if("string"!=typeof e)throw new Error("Non-string header array fed to sb-react-table without renderHeaderColumn prop");return e}},{key:"defaultBodyRenderer",value:function(e,t){var n=e[t];if("string"!=typeof n)throw new Error("Non-predictable rows fed to sb-react-table without renderBodyColumn prop");return n}}]),t}(),B.defaultProps={style:null,className:null,initialSort:null},M));class Y extends f.Component{constructor(e,t){super(e,t),this.onClick=(e,t)=>{"A"!==e.target.tagName&&(("darwin"===process.platform?e.metaKey:e.ctrlKey)?e.shiftKey?j(t):T(t,!0):T(t))},this.state={messages:this.props.delegate.filteredMessages}}static renderRowColumn(e,t){const n=E(e);switch(t){case"file":return P(e);case"line":return n?`${n.start.row+1}:${n.start.column+1}`:"";case"excerpt":return e.excerpt;case"severity":return x[e.severity];default:return e[t]}}componentDidMount(){this.props.delegate.onDidChangeMessages((e=>{this.setState({messages:e})}))}render(){const{delegate:e}=this.props,t=[{key:"severity",label:"Severity",sortable:!0},{key:"linterName",label:"Provider",sortable:!0},{key:"excerpt",label:"Description",onClick:this.onClick},{key:"line",label:"Line",sortable:!0,onClick:this.onClick}];"Entire Project"===e.panelRepresents&&t.push({key:"file",label:"File",sortable:!0,onClick:this.onClick});return f.createElement("div",{id:"linter-panel",tabIndex:-1,style:{overflowY:"scroll",height:"100%"}},f.createElement(G,{rows:this.state.messages,columns:t,initialSort:[{column:"severity",type:"desc"},{column:"file",type:"asc"},{column:"line",type:"asc"}],sort:$,rowKey:e=>e.key,renderHeaderColumn:e=>e.label,renderBodyColumn:Y.renderRowColumn,style:{width:"100%"},className:"linter"}))}}function J(e){const t=atom.workspace.paneContainerForItem(e);return t&&"object"==typeof t.state&&"number"==typeof t.state.size&&"function"==typeof t.render?t:null}class X{constructor(e){this.element=document.createElement("div"),this.subscriptions=new d,this.lastSetPaneHeight=null,this.subscriptions.add(atom.config.observe("linter-ui-default.panelHeight",(e=>{const t="number"==typeof this.panelHeight;this.panelHeight=e,t&&this.doPanelResize(!0)}))),this.subscriptions.add(atom.config.observe("linter-ui-default.alwaysTakeMinimumSpace",(e=>{this.alwaysTakeMinimumSpace=e}))),this.doPanelResize(),u.render(f.createElement(Y,{delegate:e}),this.element)}doPanelResize(e=!1){const t=J(this);let n=null;const r=atom.views.getView(t);if(r&&this.alwaysTakeMinimumSpace){const e=r.querySelector(".list-inline.tab-bar.inset-panel"),t=e?e.getClientRects()[0]:null,i=this.element.querySelector("table"),s=i?i.getClientRects()[0]:null;t&&s&&(n=t.height+s.height+1)}if(t){let r=null;const i=null===n||e?this.panelHeight:Math.min(n,this.panelHeight);null===this.lastSetPaneHeight||t.state.size===this.lastSetPaneHeight||e||(r=t.state.size),this.lastSetPaneHeight=i,t.state.size=i,t.render(t.state),null!==r&&atom.config.set("linter-ui-default.panelHeight",r)}}getURI(){return"atom://linter-ui-default"}getTitle(){return"Linter"}getDefaultLocation(){return"bottom"}getAllowedLocations(){return S}getPreferredHeight(){return atom.config.get("linter-ui-default.panelHeight")}dispose(){this.subscriptions.dispose();const e=J(this);e&&!this.alwaysTakeMinimumSpace&&e.state.size!==this.panelHeight&&(atom.config.set("linter-ui-default.panelHeight",e.state.size),e.paneForItem(this).destroyItem(this,!0))}}class Q{constructor(){this.panel=null,this.element=document.createElement("div"),this.delegate=new D,this.messages=[],this.deactivating=!1,this.subscriptions=new d,this.showPanelStateMessages=!1,this.subscriptions.add(this.delegate),this.subscriptions.add(atom.config.observe("linter-ui-default.hidePanelWhenEmpty",(e=>{this.hidePanelWhenEmpty=e,this.refresh()}))),this.subscriptions.add(atom.workspace.onDidDestroyPane((({pane:e})=>{e.getItems().includes(this.panel)&&!this.deactivating&&(this.panel=null,atom.config.set("linter-ui-default.showPanel",!1))}))),this.subscriptions.add(atom.workspace.onDidDestroyPaneItem((({item:e})=>{e instanceof X&&!this.deactivating&&(this.panel=null,atom.config.set("linter-ui-default.showPanel",!1))}))),this.subscriptions.add(atom.config.observe("linter-ui-default.showPanel",(e=>{this.showPanelConfig=e,this.refresh()}))),this.subscriptions.add(atom.workspace.getCenter().observeActivePaneItem((()=>{this.showPanelStateMessages=!!this.delegate.filteredMessages.length,this.refresh()}))),this.activationTimer=window.requestIdleCallback((()=>{let e=!0;const t=atom.workspace.getBottomDock();this.subscriptions.add(t.onDidChangeActivePaneItem((t=>{if(!this.panel||"bottom"!==this.getPanelLocation())return;if(e)return void(e=!1);t===this.panel!==this.showPanelConfig&&atom.config.set("linter-ui-default.showPanel",!this.showPanelConfig)}))),this.subscriptions.add(t.onDidChangeVisible((e=>{if(!this.panel||"bottom"!==this.getPanelLocation())return;if(!e&&this.showPanelConfig&&this.hidePanelWhenEmpty&&!this.showPanelStateMessages)return;if(t.getActivePaneItem()!==this.panel)return;e!==this.showPanelConfig&&atom.config.set("linter-ui-default.showPanel",!this.showPanelConfig)}))),this.activate()}))}getPanelLocation(){if(!this.panel)return null;const e=atom.workspace.paneContainerForItem(this.panel);return e&&e.location||null}async activate(){this.panel||(this.panel=new X(this.delegate),await atom.workspace.open(this.panel,{activatePane:!1,activateItem:!1,searchAllPanes:!0}),this.update(),this.refresh())}update(e=null){e&&(this.messages=e),this.delegate.update(this.messages),this.showPanelStateMessages=!!this.delegate.filteredMessages.length,this.refresh()}async refresh(){const e=this.panel;if(null===e)return void(this.showPanelConfig&&await this.activate());const t=atom.workspace.paneContainerForItem(e);if(!t||"bottom"!==t.location)return;const n=t.getActivePaneItem()===e,r=this.showPanelConfig,i=!this.hidePanelWhenEmpty||this.showPanelStateMessages;r&&i?(n||t.paneForItem(e).activateItem(e),t.show(),e.doPanelResize()):n&&t.hide()}dispose(){this.deactivating=!0,this.panel&&this.panel.dispose(),this.subscriptions.dispose(),window.cancelIdleCallback(this.activationTimer)}}class ee{constructor(){this.messages=[],this.subscriptions=new d,this.subscriptions.add(atom.commands.add("atom-workspace",{"linter-ui-default:next":()=>this.move(!0,!0),"linter-ui-default:previous":()=>this.move(!1,!0),"linter-ui-default:next-error":()=>this.move(!0,!0,"error"),"linter-ui-default:previous-error":()=>this.move(!1,!0,"error"),"linter-ui-default:next-warning":()=>this.move(!0,!0,"warning"),"linter-ui-default:previous-warning":()=>this.move(!1,!0,"warning"),"linter-ui-default:next-info":()=>this.move(!0,!0,"info"),"linter-ui-default:previous-info":()=>this.move(!1,!0,"info"),"linter-ui-default:next-in-current-file":()=>this.move(!0,!1),"linter-ui-default:previous-in-current-file":()=>this.move(!1,!1),"linter-ui-default:next-error-in-current-file":()=>this.move(!0,!1,"error"),"linter-ui-default:previous-error-in-current-file":()=>this.move(!1,!1,"error"),"linter-ui-default:next-warning-in-current-file":()=>this.move(!0,!1,"warning"),"linter-ui-default:previous-warning-in-current-file":()=>this.move(!1,!1,"warning"),"linter-ui-default:next-info-in-current-file":()=>this.move(!0,!1,"info"),"linter-ui-default:previous-info-in-current-file":()=>this.move(!1,!1,"info"),"linter-ui-default:toggle-panel":()=>this.togglePanel(),"linter-ui-default:expand-tooltip":function(){},"linter-ui-default:collapse-tooltip":function(){}})),this.subscriptions.add(atom.commands.add("atom-text-editor:not([mini])",{"linter-ui-default:apply-all-solutions":()=>this.applyAllSolutions()})),this.subscriptions.add(atom.commands.add("#linter-panel",{"core:copy":()=>{const e=document.getSelection();e&&atom.clipboard.write(e.toString())}}))}togglePanel(){atom.config.set("linter-ui-default.showPanel",!atom.config.get("linter-ui-default.showPanel"))}applyAllSolutions(){const e=A();a(e,"textEditor was null on a command supposed to run on text-editors only");$([{column:"line",type:"desc"}],z(this.messages,e.getPath())).forEach((function(t){2===t.version&&t.solutions&&t.solutions.length&&O(e,L(t.solutions)[0])}))}move(e,t,n=null){const r=A(),i=r&&r.getPath()||NaN,s=$([{column:"file",type:"asc"},{column:"line",type:"asc"}],z(this.messages,t?null:i,n)),o=e?-1:1;if(!r){const t=e?s[0]:s[s.length-1];return void(t&&T(t))}const a=r.getCursorBufferPosition();let u;e||s.reverse();let l=!1;for(let e=0,t=s.length;e<t;e++){const t=s[e],n=C(t),r=E(t);if(l||n!==i||(l=!0),n&&r){if(l&&n!==i){u=t;break}if(n===i&&a.compare(r.start)===o){u=t;break}}}!u&&s.length&&(u=s[0]),u&&T(u)}update(e){this.messages=e}dispose(){this.subscriptions.dispose()}}function te(e){const t=document.createElement("a");return t.classList.add(`icon-${e}`),t.appendChild(document.createTextNode("")),t}class ne{constructor(){this.item=document.createElement("div"),this.itemErrors=te("stop"),this.itemWarnings=te("alert"),this.itemInfos=te("info"),this.emitter=new m,this.subscriptions=new d,this.item.appendChild(this.itemErrors),this.item.appendChild(this.itemWarnings),this.item.appendChild(this.itemInfos),this.item.classList.add("inline-block"),this.item.classList.add("linter-status-count"),this.subscriptions.add(this.emitter),this.subscriptions.add(atom.tooltips.add(this.itemErrors,{title:"Linter Errors"})),this.subscriptions.add(atom.tooltips.add(this.itemWarnings,{title:"Linter Warnings"})),this.subscriptions.add(atom.tooltips.add(this.itemInfos,{title:"Linter Infos"})),this.itemErrors.onclick=()=>this.emitter.emit("click","error"),this.itemWarnings.onclick=()=>this.emitter.emit("click","warning"),this.itemInfos.onclick=()=>this.emitter.emit("click","info"),this.update(0,0,0)}setVisibility(e,t){t?this.item.classList.remove(`hide-${e}`):this.item.classList.add(`hide-${e}`)}update(e,t,n){this.itemErrors.childNodes[0].textContent=String(e),this.itemWarnings.childNodes[0].textContent=String(t),this.itemInfos.childNodes[0].textContent=String(n),e?this.itemErrors.classList.add("text-error"):this.itemErrors.classList.remove("text-error"),t?this.itemWarnings.classList.add("text-warning"):this.itemWarnings.classList.remove("text-warning"),n?this.itemInfos.classList.add("text-info"):this.itemInfos.classList.remove("text-info")}onDidClick(e){return this.emitter.on("click",e)}dispose(){this.subscriptions.dispose()}}class re{constructor(){this.element=new ne,this.messages=[],this.subscriptions=new d,this.subscriptions.add(this.element),this.subscriptions.add(atom.config.observe("linter-ui-default.statusBarRepresents",(e=>{const t=void 0!==this.statusBarRepresents;this.statusBarRepresents=e,t&&this.update()}))),this.subscriptions.add(atom.config.observe("linter-ui-default.statusBarClickBehavior",(e=>{const t=void 0!==this.statusBarClickBehavior;this.statusBarClickBehavior=e,t&&this.update()}))),this.subscriptions.add(atom.config.observe("linter-ui-default.showStatusBar",(e=>{this.element.setVisibility("config",e)}))),this.subscriptions.add(atom.workspace.getCenter().observeActivePaneItem((e=>{const t=atom.workspace.isTextEditor(e);this.element.setVisibility("pane",t),t&&"Current File"===this.statusBarRepresents&&this.update()}))),this.element.onDidClick((e=>{const t=atom.views.getView(atom.workspace);if("Toggle Panel"===this.statusBarClickBehavior)atom.commands.dispatch(t,"linter-ui-default:toggle-panel");else if("Toggle Status Bar Scope"===this.statusBarClickBehavior)atom.config.set("linter-ui-default.statusBarRepresents","Entire Project"===this.statusBarRepresents?"Current File":"Entire Project");else{const n="Current File"===this.statusBarRepresents?"-in-current-file":"";atom.commands.dispatch(t,`linter-ui-default:next-${e}${n}`)}}))}update(e=null){e?this.messages=e:e=this.messages;const t={error:0,warning:0,info:0},n=A(),r=n&&n.getPath()||NaN;e.forEach((e=>{"Entire Project"!==this.statusBarRepresents&&C(e)!==r||("error"===e.severity?t.error++:"warning"===e.severity?t.warning++:t.info++)})),this.element.update(t.error,t.warning,t.info)}attach(e){let t=null;this.subscriptions.add(atom.config.observe("linter-ui-default.statusBarPosition",(n=>{t&&t.destroy(),t=e[`add${n}Tile`]({item:this.element.item,priority:"Left"===n?0:1e3})}))),this.subscriptions.add(new g((function(){t&&t.destroy()})))}dispose(){this.subscriptions.dispose()}}class ie{constructor(){this.executing=new Set,this.providerTitles=new Set,this.subscriptions=new d,this.subscriptions.add(atom.config.observe("linter-ui-default.useBusySignal",(e=>{this.useBusySignal=e})))}attach(e){this.provider=e.create(),this.update()}update(){const e=this.provider;if(!e)return;if(!this.useBusySignal)return;const t=new Map,n=new Set;for(const{filePath:e,linter:n}of this.executing){let r=t.get(e);r||t.set(e,r=[]),r.push(n.name)}for(const[r,i]of t){const t=r?` on ${atom.project.relativizePath(r)[1]}`:"";i.forEach((r=>{const i=`${r}${t}`;n.add(i),this.providerTitles.has(i)||(this.providerTitles.add(i),e.add(i))}))}this.providerTitles.forEach((t=>{n.has(t)||(e.remove(t),this.providerTitles.delete(t))})),t.clear()}getExecuting(e,t){for(const n of this.executing)if(n.linter===e&&n.filePath===t)return n;return null}didBeginLinting(e,t){this.getExecuting(e,t)||(this.executing.add({linter:e,filePath:t}),this.update())}didFinishLinting(e,t){const n=this.getExecuting(e,t);n&&(this.executing.delete(n),this.update())}dispose(){this.provider&&this.provider.clear(),this.providerTitles.clear(),this.executing.clear(),this.subscriptions.dispose()}}class se{constructor(){this.messages=[],this.grammarScopes=["*"]}getIntentions({textEditor:e,bufferPosition:t}){let n=[];const r=z(this.messages,e.getPath());for(const i of r){if(!(i.solutions&&i.solutions.length))continue;const r=E(i);if(!(r&&r.containsPoint(t)))continue;let s=[];2===i.version&&i.solutions&&i.solutions.length&&(s=i.solutions);const o=i.linterName||"Linter";n=n.concat(s.map((t=>({priority:t.priority?t.priority+200:200,icon:"tools",title:t.title||`Fix ${o} issue`,selected(){O(e,t)}}))))}return n}update(e){this.messages=e}}var oe,ae=function(){var e=this,t={exports:this};return function(){var n,r="Expected a function",i="__lodash_hash_undefined__",s="__lodash_placeholder__",o=16,a=32,u=64,l=128,c=256,f=1/0,h=9007199254740991,p=NaN,d=4294967295,g=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",o],["flip",512],["partial",a],["partialRight",u],["rearg",c]],m="[object Arguments]",v="[object Array]",y="[object Boolean]",_="[object Date]",w="[object Error]",k="[object Function]",x="[object GeneratorFunction]",S="[object Map]",E="[object Number]",C="[object Object]",P="[object Promise]",A="[object RegExp]",z="[object Set]",R="[object String]",I="[object Symbol]",T="[object WeakMap]",j="[object ArrayBuffer]",$="[object DataView]",L="[object Float32Array]",O="[object Float64Array]",D="[object Int8Array]",B="[object Int16Array]",M="[object Int32Array]",N="[object Uint8Array]",W="[object Uint8ClampedArray]",F="[object Uint16Array]",U="[object Uint32Array]",q=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,Z=/(__e\(.*?\)|\b__t\)) \+\n'';/g,V=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,G=RegExp(V.source),Y=RegExp(K.source),J=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,Q=/<%=([\s\S]+?)%>/g,ee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,te=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,re=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(re.source),se=/^\s+|\s+$/g,oe=/^\s+/,ae=/\s+$/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,_e=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,ke=/['\n\r\u2028\u2029\\]/g,xe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="\\u2700-\\u27bf",Ee="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Pe="\\ufe0e\\ufe0f",Ae="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ze="['’]",Re="[\\ud800-\\udfff]",Ie="["+Ae+"]",Te="["+xe+"]",je="\\d+",$e="[\\u2700-\\u27bf]",Le="["+Ee+"]",Oe="[^\\ud800-\\udfff"+Ae+je+Se+Ee+Ce+"]",De="\\ud83c[\\udffb-\\udfff]",Be="[^\\ud800-\\udfff]",Me="(?:\\ud83c[\\udde6-\\uddff]){2}",Ne="[\\ud800-\\udbff][\\udc00-\\udfff]",We="["+Ce+"]",Fe="(?:"+Le+"|"+Oe+")",Ue="(?:"+We+"|"+Oe+")",qe="(?:['’](?:d|ll|m|re|s|t|ve))?",He="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ze="(?:"+Te+"|"+De+")"+"?",Ve="[\\ufe0e\\ufe0f]?",Ke=Ve+Ze+("(?:\\u200d(?:"+[Be,Me,Ne].join("|")+")"+Ve+Ze+")*"),Ge="(?:"+[$e,Me,Ne].join("|")+")"+Ke,Ye="(?:"+[Be+Te+"?",Te,Me,Ne,Re].join("|")+")",Je=RegExp(ze,"g"),Xe=RegExp(Te,"g"),Qe=RegExp(De+"(?="+De+")|"+Ye+Ke,"g"),et=RegExp([We+"?"+Le+"+"+qe+"(?="+[Ie,We,"$"].join("|")+")",Ue+"+"+He+"(?="+[Ie,We+Fe,"$"].join("|")+")",We+"?"+Fe+"+"+qe,We+"+"+He,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",je,Ge].join("|"),"g"),tt=RegExp("[\\u200d\\ud800-\\udfff"+xe+Pe+"]"),nt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],it=-1,st={};st[L]=st[O]=st[D]=st[B]=st[M]=st[N]=st[W]=st[F]=st[U]=!0,st[m]=st[v]=st[j]=st[y]=st[$]=st[_]=st[w]=st[k]=st[S]=st[E]=st[C]=st[A]=st[z]=st[R]=st[T]=!1;var ot={};ot[m]=ot[v]=ot[j]=ot[$]=ot[y]=ot[_]=ot[L]=ot[O]=ot[D]=ot[B]=ot[M]=ot[S]=ot[E]=ot[C]=ot[A]=ot[z]=ot[R]=ot[I]=ot[N]=ot[W]=ot[F]=ot[U]=!0,ot[w]=ot[k]=ot[T]=!1;var at={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ut=parseFloat,lt=parseInt,ct="object"==typeof b&&b&&b.Object===Object&&b,ft="object"==typeof self&&self&&self.Object===Object&&self,ht=ct||ft||Function("return this")(),pt="object"==typeof e&&e&&!e.nodeType&&e,dt=pt&&"object"==typeof t&&t&&!t.nodeType&&t,gt=dt&&dt.exports===pt,mt=gt&&ct.process,vt=function(){try{var e=dt&&dt.require&&dt.require("util").types;return e||mt&&mt.binding&&mt.binding("util")}catch(e){}}(),yt=vt&&vt.isArrayBuffer,_t=vt&&vt.isDate,bt=vt&&vt.isMap,wt=vt&&vt.isRegExp,kt=vt&&vt.isSet,xt=vt&&vt.isTypedArray;function St(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Et(e,t,n,r){for(var i=-1,s=null==e?0:e.length;++i<s;){var o=e[i];t(r,o,n(o),e)}return r}function Ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Pt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function zt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function Rt(e,t){return!!(null==e?0:e.length)&&Nt(e,t,0)>-1}function It(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Tt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function jt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function $t(e,t,n,r){var i=-1,s=null==e?0:e.length;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}function Lt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Dt=qt("length");function Bt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Mt(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function Nt(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Mt(e,Ft,n)}function Wt(e,t,n,r){for(var i=n-1,s=e.length;++i<s;)if(r(e[i],t))return i;return-1}function Ft(e){return e!=e}function Ut(e,t){var n=null==e?0:e.length;return n?Vt(e,t)/n:p}function qt(e){return function(t){return null==t?n:t[e]}}function Ht(e){return function(t){return null==e?n:e[t]}}function Zt(e,t,n,r,i){return i(e,(function(e,i,s){n=r?(r=!1,e):t(n,e,i,s)})),n}function Vt(e,t){for(var r,i=-1,s=e.length;++i<s;){var o=t(e[i]);o!==n&&(r=r===n?o:r+o)}return r}function Kt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Gt(e){return function(t){return e(t)}}function Yt(e,t){return Tt(t,(function(t){return e[t]}))}function Jt(e,t){return e.has(t)}function Xt(e,t){for(var n=-1,r=e.length;++n<r&&Nt(t,e[n],0)>-1;);return n}function Qt(e,t){for(var n=e.length;n--&&Nt(t,e[n],0)>-1;);return n}function en(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var tn=Ht({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),nn=Ht({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function rn(e){return"\\"+at[e]}function sn(e){return tt.test(e)}function on(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function an(e,t){return function(n){return e(t(n))}}function un(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[i++]=n)}return o}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function fn(e){return sn(e)?function(e){var t=Qe.lastIndex=0;for(;Qe.test(e);)++t;return t}(e):Dt(e)}function hn(e){return sn(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.split("")}(e)}var pn=Ht({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var dn=function e(t){var b,xe=(t=null==t?ht:dn.defaults(ht.Object(),t,dn.pick(ht,rt))).Array,Se=t.Date,Ee=t.Error,Ce=t.Function,Pe=t.Math,Ae=t.Object,ze=t.RegExp,Re=t.String,Ie=t.TypeError,Te=xe.prototype,je=Ce.prototype,$e=Ae.prototype,Le=t["__core-js_shared__"],Oe=je.toString,De=$e.hasOwnProperty,Be=0,Me=(b=/[^.]+$/.exec(Le&&Le.keys&&Le.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",Ne=$e.toString,We=Oe.call(Ae),Fe=ht._,Ue=ze("^"+Oe.call(De).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qe=gt?t.Buffer:n,He=t.Symbol,Ze=t.Uint8Array,Ve=qe?qe.allocUnsafe:n,Ke=an(Ae.getPrototypeOf,Ae),Ge=Ae.create,Ye=$e.propertyIsEnumerable,Qe=Te.splice,tt=He?He.isConcatSpreadable:n,at=He?He.iterator:n,ct=He?He.toStringTag:n,ft=function(){try{var e=hs(Ae,"defineProperty");return e({},"",{}),e}catch(e){}}(),pt=t.clearTimeout!==ht.clearTimeout&&t.clearTimeout,dt=Se&&Se.now!==ht.Date.now&&Se.now,mt=t.setTimeout!==ht.setTimeout&&t.setTimeout,vt=Pe.ceil,Dt=Pe.floor,Ht=Ae.getOwnPropertySymbols,gn=qe?qe.isBuffer:n,mn=t.isFinite,vn=Te.join,yn=an(Ae.keys,Ae),_n=Pe.max,bn=Pe.min,wn=Se.now,kn=t.parseInt,xn=Pe.random,Sn=Te.reverse,En=hs(t,"DataView"),Cn=hs(t,"Map"),Pn=hs(t,"Promise"),An=hs(t,"Set"),zn=hs(t,"WeakMap"),Rn=hs(Ae,"create"),In=zn&&new zn,Tn={},jn=Ms(En),$n=Ms(Cn),Ln=Ms(Pn),On=Ms(An),Dn=Ms(zn),Bn=He?He.prototype:n,Mn=Bn?Bn.valueOf:n,Nn=Bn?Bn.toString:n;function Wn(e){if(ra(e)&&!Zo(e)&&!(e instanceof Hn)){if(e instanceof qn)return e;if(De.call(e,"__wrapped__"))return Ns(e)}return new qn(e)}var Fn=function(){function e(){}return function(t){if(!na(t))return{};if(Ge)return Ge(t);e.prototype=t;var r=new e;return e.prototype=n,r}}();function Un(){}function qn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function Hn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kn;++t<n;)this.add(e[t])}function Yn(e){var t=this.__data__=new Vn(e);this.size=t.size}function Jn(e,t){var n=Zo(e),r=!n&&Ho(e),i=!n&&!r&&Yo(e),s=!n&&!r&&!i&&fa(e),o=n||r||i||s,a=o?Kt(e.length,Re):[],u=a.length;for(var l in e)!t&&!De.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||_s(l,u))||a.push(l);return a}function Xn(e){var t=e.length;return t?e[Gr(0,t-1)]:n}function Qn(e,t){return Os(Ri(e),ur(t,0,e.length))}function er(e){return Os(Ri(e))}function tr(e,t,r){(r!==n&&!Fo(e[t],r)||r===n&&!(t in e))&&or(e,t,r)}function nr(e,t,r){var i=e[t];De.call(e,t)&&Fo(i,r)&&(r!==n||t in e)||or(e,t,r)}function rr(e,t){for(var n=e.length;n--;)if(Fo(e[n][0],t))return n;return-1}function ir(e,t,n,r){return pr(e,(function(e,i,s){t(r,e,n(e),s)})),r}function sr(e,t){return e&&Ii(t,ja(t),e)}function or(e,t,n){"__proto__"==t&&ft?ft(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ar(e,t){for(var r=-1,i=t.length,s=xe(i),o=null==e;++r<i;)s[r]=o?n:Aa(e,t[r]);return s}function ur(e,t,r){return e==e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e}function lr(e,t,r,i,s,o){var a,u=1&t,l=2&t,c=4&t;if(r&&(a=s?r(e,i,s,o):r(e)),a!==n)return a;if(!na(e))return e;var f=Zo(e);if(f){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&De.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return Ri(e,a)}else{var h=gs(e),p=h==k||h==x;if(Yo(e))return Si(e,u);if(h==C||h==m||p&&!s){if(a=l||p?{}:vs(e),!u)return l?function(e,t){return Ii(e,ds(e),t)}(e,function(e,t){return e&&Ii(t,$a(t),e)}(a,e)):function(e,t){return Ii(e,ps(e),t)}(e,sr(a,e))}else{if(!ot[h])return s?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case j:return Ei(e);case y:case _:return new r(+e);case $:return function(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case O:case D:case B:case M:case N:case W:case F:case U:return Ci(e,n);case S:return new r;case E:case R:return new r(e);case A:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case z:return new r;case I:return i=e,Mn?Ae(Mn.call(i)):{}}var i}(e,h,u)}}o||(o=new Yn);var d=o.get(e);if(d)return d;o.set(e,a),ua(e)?e.forEach((function(n){a.add(lr(n,t,r,n,e,o))})):ia(e)&&e.forEach((function(n,i){a.set(i,lr(n,t,r,i,e,o))}));var g=f?n:(c?l?ss:is:l?$a:ja)(e);return Ct(g||e,(function(n,i){g&&(n=e[i=n]),nr(a,i,lr(n,t,r,i,e,o))})),a}function cr(e,t,r){var i=r.length;if(null==e)return!i;for(e=Ae(e);i--;){var s=r[i],o=t[s],a=e[s];if(a===n&&!(s in e)||!o(a))return!1}return!0}function fr(e,t,i){if("function"!=typeof e)throw new Ie(r);return Ts((function(){e.apply(n,i)}),t)}function hr(e,t,n,r){var i=-1,s=Rt,o=!0,a=e.length,u=[],l=t.length;if(!a)return u;n&&(t=Tt(t,Gt(n))),r?(s=It,o=!1):t.length>=200&&(s=Jt,o=!1,t=new Gn(t));e:for(;++i<a;){var c=e[i],f=null==n?c:n(c);if(c=r||0!==c?c:0,o&&f==f){for(var h=l;h--;)if(t[h]===f)continue e;u.push(c)}else s(t,f,r)||u.push(c)}return u}Wn.templateSettings={escape:J,evaluate:X,interpolate:Q,variable:"",imports:{_:Wn}},Wn.prototype=Un.prototype,Wn.prototype.constructor=Wn,qn.prototype=Fn(Un.prototype),qn.prototype.constructor=qn,Hn.prototype=Fn(Un.prototype),Hn.prototype.constructor=Hn,Zn.prototype.clear=function(){this.__data__=Rn?Rn(null):{},this.size=0},Zn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Zn.prototype.get=function(e){var t=this.__data__;if(Rn){var r=t[e];return r===i?n:r}return De.call(t,e)?t[e]:n},Zn.prototype.has=function(e){var t=this.__data__;return Rn?t[e]!==n:De.call(t,e)},Zn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Rn&&t===n?i:t,this},Vn.prototype.clear=function(){this.__data__=[],this.size=0},Vn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Qe.call(t,n,1),--this.size,!0)},Vn.prototype.get=function(e){var t=this.__data__,r=rr(t,e);return r<0?n:t[r][1]},Vn.prototype.has=function(e){return rr(this.__data__,e)>-1},Vn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Zn,map:new(Cn||Vn),string:new Zn}},Kn.prototype.delete=function(e){var t=cs(this,e).delete(e);return this.size-=t?1:0,t},Kn.prototype.get=function(e){return cs(this,e).get(e)},Kn.prototype.has=function(e){return cs(this,e).has(e)},Kn.prototype.set=function(e,t){var n=cs(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Gn.prototype.add=Gn.prototype.push=function(e){return this.__data__.set(e,i),this},Gn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.clear=function(){this.__data__=new Vn,this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Yn.prototype.get=function(e){return this.__data__.get(e)},Yn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Vn){var r=n.__data__;if(!Cn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(r)}return n.set(e,t),this.size=n.size,this};var pr=$i(wr),dr=$i(kr,!0);function gr(e,t){var n=!0;return pr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function mr(e,t,r){for(var i=-1,s=e.length;++i<s;){var o=e[i],a=t(o);if(null!=a&&(u===n?a==a&&!ca(a):r(a,u)))var u=a,l=o}return l}function vr(e,t){var n=[];return pr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function yr(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=ys),i||(i=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?yr(a,t-1,n,r,i):jt(i,a):r||(i[i.length]=a)}return i}var _r=Li(),br=Li(!0);function wr(e,t){return e&&_r(e,t,ja)}function kr(e,t){return e&&br(e,t,ja)}function xr(e,t){return zt(t,(function(t){return Qo(e[t])}))}function Sr(e,t){for(var r=0,i=(t=bi(t,e)).length;null!=e&&r<i;)e=e[Bs(t[r++])];return r&&r==i?e:n}function Er(e,t,n){var r=t(e);return Zo(e)?r:jt(r,n(e))}function Cr(e){return null==e?e===n?"[object Undefined]":"[object Null]":ct&&ct in Ae(e)?function(e){var t=De.call(e,ct),r=e[ct];try{e[ct]=n;var i=!0}catch(e){}var s=Ne.call(e);i&&(t?e[ct]=r:delete e[ct]);return s}(e):function(e){return Ne.call(e)}(e)}function Pr(e,t){return e>t}function Ar(e,t){return null!=e&&De.call(e,t)}function zr(e,t){return null!=e&&t in Ae(e)}function Rr(e,t,r){for(var i=r?It:Rt,s=e[0].length,o=e.length,a=o,u=xe(o),l=1/0,c=[];a--;){var f=e[a];a&&t&&(f=Tt(f,Gt(t))),l=bn(f.length,l),u[a]=!r&&(t||s>=120&&f.length>=120)?new Gn(a&&f):n}f=e[0];var h=-1,p=u[0];e:for(;++h<s&&c.length<l;){var d=f[h],g=t?t(d):d;if(d=r||0!==d?d:0,!(p?Jt(p,g):i(c,g,r))){for(a=o;--a;){var m=u[a];if(!(m?Jt(m,g):i(e[a],g,r)))continue e}p&&p.push(g),c.push(d)}}return c}function Ir(e,t,r){var i=null==(e=As(e,t=bi(t,e)))?e:e[Bs(Js(t))];return null==i?n:St(i,e,r)}function Tr(e){return ra(e)&&Cr(e)==m}function jr(e,t,r,i,s){return e===t||(null==e||null==t||!ra(e)&&!ra(t)?e!=e&&t!=t:function(e,t,r,i,s,o){var a=Zo(e),u=Zo(t),l=a?v:gs(e),c=u?v:gs(t),f=(l=l==m?C:l)==C,h=(c=c==m?C:c)==C,p=l==c;if(p&&Yo(e)){if(!Yo(t))return!1;a=!0,f=!1}if(p&&!f)return o||(o=new Yn),a||fa(e)?ns(e,t,r,i,s,o):function(e,t,n,r,i,s,o){switch(n){case $:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case j:return!(e.byteLength!=t.byteLength||!s(new Ze(e),new Ze(t)));case y:case _:case E:return Fo(+e,+t);case w:return e.name==t.name&&e.message==t.message;case A:case R:return e==t+"";case S:var a=on;case z:var u=1&r;if(a||(a=ln),e.size!=t.size&&!u)return!1;var l=o.get(e);if(l)return l==t;r|=2,o.set(e,t);var c=ns(a(e),a(t),r,i,s,o);return o.delete(e),c;case I:if(Mn)return Mn.call(e)==Mn.call(t)}return!1}(e,t,l,r,i,s,o);if(!(1&r)){var d=f&&De.call(e,"__wrapped__"),g=h&&De.call(t,"__wrapped__");if(d||g){var b=d?e.value():e,k=g?t.value():t;return o||(o=new Yn),s(b,k,r,i,o)}}if(!p)return!1;return o||(o=new Yn),function(e,t,r,i,s,o){var a=1&r,u=is(e),l=u.length,c=is(t).length;if(l!=c&&!a)return!1;var f=l;for(;f--;){var h=u[f];if(!(a?h in t:De.call(t,h)))return!1}var p=o.get(e),d=o.get(t);if(p&&d)return p==t&&d==e;var g=!0;o.set(e,t),o.set(t,e);var m=a;for(;++f<l;){var v=e[h=u[f]],y=t[h];if(i)var _=a?i(y,v,h,t,e,o):i(v,y,h,e,t,o);if(!(_===n?v===y||s(v,y,r,i,o):_)){g=!1;break}m||(m="constructor"==h)}if(g&&!m){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(g=!1)}return o.delete(e),o.delete(t),g}(e,t,r,i,s,o)}(e,t,r,i,jr,s))}function $r(e,t,r,i){var s=r.length,o=s,a=!i;if(null==e)return!o;for(e=Ae(e);s--;){var u=r[s];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++s<o;){var l=(u=r[s])[0],c=e[l],f=u[1];if(a&&u[2]){if(c===n&&!(l in e))return!1}else{var h=new Yn;if(i)var p=i(c,f,l,e,t,h);if(!(p===n?jr(f,c,3,i,h):p))return!1}}return!0}function Lr(e){return!(!na(e)||(t=e,Me&&Me in t))&&(Qo(e)?Ue:ve).test(Ms(e));var t}function Or(e){return"function"==typeof e?e:null==e?su:"object"==typeof e?Zo(e)?Fr(e[0],e[1]):Wr(e):du(e)}function Dr(e){if(!Ss(e))return yn(e);var t=[];for(var n in Ae(e))De.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Br(e){if(!na(e))return function(e){var t=[];if(null!=e)for(var n in Ae(e))t.push(n);return t}(e);var t=Ss(e),n=[];for(var r in e)("constructor"!=r||!t&&De.call(e,r))&&n.push(r);return n}function Mr(e,t){return e<t}function Nr(e,t){var n=-1,r=Ko(e)?xe(e.length):[];return pr(e,(function(e,i,s){r[++n]=t(e,i,s)})),r}function Wr(e){var t=fs(e);return 1==t.length&&t[0][2]?Cs(t[0][0],t[0][1]):function(n){return n===e||$r(n,e,t)}}function Fr(e,t){return ws(e)&&Es(t)?Cs(Bs(e),t):function(r){var i=Aa(r,e);return i===n&&i===t?za(r,e):jr(t,i,3)}}function Ur(e,t,r,i,s){e!==t&&_r(t,(function(o,a){if(s||(s=new Yn),na(o))!function(e,t,r,i,s,o,a){var u=Rs(e,r),l=Rs(t,r),c=a.get(l);if(c)return void tr(e,r,c);var f=o?o(u,l,r+"",e,t,a):n,h=f===n;if(h){var p=Zo(l),d=!p&&Yo(l),g=!p&&!d&&fa(l);f=l,p||d||g?Zo(u)?f=u:Go(u)?f=Ri(u):d?(h=!1,f=Si(l,!0)):g?(h=!1,f=Ci(l,!0)):f=[]:oa(l)||Ho(l)?(f=u,Ho(u)?f=_a(u):na(u)&&!Qo(u)||(f=vs(l))):h=!1}h&&(a.set(l,f),s(f,l,i,o,a),a.delete(l));tr(e,r,f)}(e,t,a,r,Ur,i,s);else{var u=i?i(Rs(e,a),o,a+"",e,t,s):n;u===n&&(u=o),tr(e,a,u)}}),$a)}function qr(e,t){var r=e.length;if(r)return _s(t+=t<0?r:0,r)?e[t]:n}function Hr(e,t,n){t=t.length?Tt(t,(function(e){return Zo(e)?function(t){return Sr(t,1===e.length?e[0]:e)}:e})):[su];var r=-1;return t=Tt(t,Gt(ls())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Nr(e,(function(e,n,i){return{criteria:Tt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,s=t.criteria,o=i.length,a=n.length;for(;++r<o;){var u=Pi(i[r],s[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Zr(e,t,n){for(var r=-1,i=t.length,s={};++r<i;){var o=t[r],a=Sr(e,o);n(a,o)&&ei(s,bi(o,e),a)}return s}function Vr(e,t,n,r){var i=r?Wt:Nt,s=-1,o=t.length,a=e;for(e===t&&(t=Ri(t)),n&&(a=Tt(e,Gt(n)));++s<o;)for(var u=0,l=t[s],c=n?n(l):l;(u=i(a,c,u,r))>-1;)a!==e&&Qe.call(a,u,1),Qe.call(e,u,1);return e}function Kr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==s){var s=i;_s(i)?Qe.call(e,i,1):hi(e,i)}}return e}function Gr(e,t){return e+Dt(xn()*(t-e+1))}function Yr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=Dt(t/2))&&(e+=e)}while(t);return n}function Jr(e,t){return js(Ps(e,t,su),e+"")}function Xr(e){return Xn(Fa(e))}function Qr(e,t){var n=Fa(e);return Os(n,ur(t,0,n.length))}function ei(e,t,r,i){if(!na(e))return e;for(var s=-1,o=(t=bi(t,e)).length,a=o-1,u=e;null!=u&&++s<o;){var l=Bs(t[s]),c=r;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(s!=a){var f=u[l];(c=i?i(f,l,u):n)===n&&(c=na(f)?f:_s(t[s+1])?[]:{})}nr(u,l,c),u=u[l]}return e}var ti=In?function(e,t){return In.set(e,t),e}:su,ni=ft?function(e,t){return ft(e,"toString",{configurable:!0,enumerable:!1,value:nu(t),writable:!0})}:su;function ri(e){return Os(Fa(e))}function ii(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=xe(i);++r<i;)s[r]=e[r+t];return s}function si(e,t){var n;return pr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var s=r+i>>>1,o=e[s];null!==o&&!ca(o)&&(n?o<=t:o<t)?r=s+1:i=s}return i}return ai(e,t,su,n)}function ai(e,t,r,i){var s=0,o=null==e?0:e.length;if(0===o)return 0;for(var a=(t=r(t))!=t,u=null===t,l=ca(t),c=t===n;s<o;){var f=Dt((s+o)/2),h=r(e[f]),p=h!==n,d=null===h,g=h==h,m=ca(h);if(a)var v=i||g;else v=c?g&&(i||p):u?g&&p&&(i||!d):l?g&&p&&!d&&(i||!m):!d&&!m&&(i?h<=t:h<t);v?s=f+1:o=f}return bn(o,4294967294)}function ui(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var o=e[n],a=t?t(o):o;if(!n||!Fo(a,u)){var u=a;s[i++]=0===o?0:o}}return s}function li(e){return"number"==typeof e?e:ca(e)?p:+e}function ci(e){if("string"==typeof e)return e;if(Zo(e))return Tt(e,ci)+"";if(ca(e))return Nn?Nn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fi(e,t,n){var r=-1,i=Rt,s=e.length,o=!0,a=[],u=a;if(n)o=!1,i=It;else if(s>=200){var l=t?null:Yi(e);if(l)return ln(l);o=!1,i=Jt,u=new Gn}else u=t?[]:a;e:for(;++r<s;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,o&&f==f){for(var h=u.length;h--;)if(u[h]===f)continue e;t&&u.push(f),a.push(c)}else i(u,f,n)||(u!==a&&u.push(f),a.push(c))}return a}function hi(e,t){return null==(e=As(e,t=bi(t,e)))||delete e[Bs(Js(t))]}function pi(e,t,n,r){return ei(e,t,n(Sr(e,t)),r)}function di(e,t,n,r){for(var i=e.length,s=r?i:-1;(r?s--:++s<i)&&t(e[s],s,e););return n?ii(e,r?0:s,r?s+1:i):ii(e,r?s+1:0,r?i:s)}function gi(e,t){var n=e;return n instanceof Hn&&(n=n.value()),$t(t,(function(e,t){return t.func.apply(t.thisArg,jt([e],t.args))}),n)}function mi(e,t,n){var r=e.length;if(r<2)return r?fi(e[0]):[];for(var i=-1,s=xe(r);++i<r;)for(var o=e[i],a=-1;++a<r;)a!=i&&(s[i]=hr(s[i]||o,e[a],t,n));return fi(yr(s,1),t,n)}function vi(e,t,r){for(var i=-1,s=e.length,o=t.length,a={};++i<s;){var u=i<o?t[i]:n;r(a,e[i],u)}return a}function yi(e){return Go(e)?e:[]}function _i(e){return"function"==typeof e?e:su}function bi(e,t){return Zo(e)?e:ws(e,t)?[e]:Ds(ba(e))}var wi=Jr;function ki(e,t,r){var i=e.length;return r=r===n?i:r,!t&&r>=i?e:ii(e,t,r)}var xi=pt||function(e){return ht.clearTimeout(e)};function Si(e,t){if(t)return e.slice();var n=e.length,r=Ve?Ve(n):new e.constructor(n);return e.copy(r),r}function Ei(e){var t=new e.constructor(e.byteLength);return new Ze(t).set(new Ze(e)),t}function Ci(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Pi(e,t){if(e!==t){var r=e!==n,i=null===e,s=e==e,o=ca(e),a=t!==n,u=null===t,l=t==t,c=ca(t);if(!u&&!c&&!o&&e>t||o&&a&&l&&!u&&!c||i&&a&&l||!r&&l||!s)return 1;if(!i&&!o&&!c&&e<t||c&&r&&s&&!i&&!o||u&&r&&s||!a&&s||!l)return-1}return 0}function Ai(e,t,n,r){for(var i=-1,s=e.length,o=n.length,a=-1,u=t.length,l=_n(s-o,0),c=xe(u+l),f=!r;++a<u;)c[a]=t[a];for(;++i<o;)(f||i<s)&&(c[n[i]]=e[i]);for(;l--;)c[a++]=e[i++];return c}function zi(e,t,n,r){for(var i=-1,s=e.length,o=-1,a=n.length,u=-1,l=t.length,c=_n(s-a,0),f=xe(c+l),h=!r;++i<c;)f[i]=e[i];for(var p=i;++u<l;)f[p+u]=t[u];for(;++o<a;)(h||i<s)&&(f[p+n[o]]=e[i++]);return f}function Ri(e,t){var n=-1,r=e.length;for(t||(t=xe(r));++n<r;)t[n]=e[n];return t}function Ii(e,t,r,i){var s=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var u=t[o],l=i?i(r[u],e[u],u,r,e):n;l===n&&(l=e[u]),s?or(r,u,l):nr(r,u,l)}return r}function Ti(e,t){return function(n,r){var i=Zo(n)?Et:ir,s=t?t():{};return i(n,e,ls(r,2),s)}}function ji(e){return Jr((function(t,r){var i=-1,s=r.length,o=s>1?r[s-1]:n,a=s>2?r[2]:n;for(o=e.length>3&&"function"==typeof o?(s--,o):n,a&&bs(r[0],r[1],a)&&(o=s<3?n:o,s=1),t=Ae(t);++i<s;){var u=r[i];u&&e(t,u,i,o)}return t}))}function $i(e,t){return function(n,r){if(null==n)return n;if(!Ko(n))return e(n,r);for(var i=n.length,s=t?i:-1,o=Ae(n);(t?s--:++s<i)&&!1!==r(o[s],s,o););return n}}function Li(e){return function(t,n,r){for(var i=-1,s=Ae(t),o=r(t),a=o.length;a--;){var u=o[e?a:++i];if(!1===n(s[u],u,s))break}return t}}function Oi(e){return function(t){var r=sn(t=ba(t))?hn(t):n,i=r?r[0]:t.charAt(0),s=r?ki(r,1).join(""):t.slice(1);return i[e]()+s}}function Di(e){return function(t){return $t(Qa(Ha(t).replace(Je,"")),e,"")}}function Bi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Fn(e.prototype),r=e.apply(n,t);return na(r)?r:n}}function Mi(e){return function(t,r,i){var s=Ae(t);if(!Ko(t)){var o=ls(r,3);t=ja(t),r=function(e){return o(s[e],e,s)}}var a=e(t,r,i);return a>-1?s[o?t[a]:a]:n}}function Ni(e){return rs((function(t){var i=t.length,s=i,o=qn.prototype.thru;for(e&&t.reverse();s--;){var a=t[s];if("function"!=typeof a)throw new Ie(r);if(o&&!u&&"wrapper"==as(a))var u=new qn([],!0)}for(s=u?s:i;++s<i;){var l=as(a=t[s]),c="wrapper"==l?os(a):n;u=c&&ks(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[as(c[0])].apply(u,c[3]):1==a.length&&ks(a)?u[l]():u.thru(a)}return function(){var e=arguments,n=e[0];if(u&&1==e.length&&Zo(n))return u.plant(n).value();for(var r=0,s=i?t[r].apply(this,e):n;++r<i;)s=t[r].call(this,s);return s}}))}function Wi(e,t,r,i,s,o,a,u,c,f){var h=t&l,p=1&t,d=2&t,g=24&t,m=512&t,v=d?n:Bi(e);return function n(){for(var l=arguments.length,y=xe(l),_=l;_--;)y[_]=arguments[_];if(g)var b=us(n),w=en(y,b);if(i&&(y=Ai(y,i,s,g)),o&&(y=zi(y,o,a,g)),l-=w,g&&l<f){var k=un(y,b);return Ki(e,t,Wi,n.placeholder,r,y,k,u,c,f-l)}var x=p?r:this,S=d?x[e]:e;return l=y.length,u?y=zs(y,u):m&&l>1&&y.reverse(),h&&c<l&&(y.length=c),this&&this!==ht&&this instanceof n&&(S=v||Bi(S)),S.apply(x,y)}}function Fi(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,s){t(r,n(e),i,s)})),r}(n,e,t(r),{})}}function Ui(e,t){return function(r,i){var s;if(r===n&&i===n)return t;if(r!==n&&(s=r),i!==n){if(s===n)return i;"string"==typeof r||"string"==typeof i?(r=ci(r),i=ci(i)):(r=li(r),i=li(i)),s=e(r,i)}return s}}function qi(e){return rs((function(t){return t=Tt(t,Gt(ls())),Jr((function(n){var r=this;return e(t,(function(e){return St(e,r,n)}))}))}))}function Hi(e,t){var r=(t=t===n?" ":ci(t)).length;if(r<2)return r?Yr(t,e):t;var i=Yr(t,vt(e/fn(t)));return sn(t)?ki(hn(i),0,e).join(""):i.slice(0,e)}function Zi(e){return function(t,r,i){return i&&"number"!=typeof i&&bs(t,r,i)&&(r=i=n),t=ga(t),r===n?(r=t,t=0):r=ga(r),function(e,t,n,r){for(var i=-1,s=_n(vt((t-e)/(n||1)),0),o=xe(s);s--;)o[r?s:++i]=e,e+=n;return o}(t,r,i=i===n?t<r?1:-1:ga(i),e)}}function Vi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ya(t),n=ya(n)),e(t,n)}}function Ki(e,t,r,i,s,o,l,c,f,h){var p=8&t;t|=p?a:u,4&(t&=~(p?u:a))||(t&=-4);var d=[e,t,s,p?o:n,p?l:n,p?n:o,p?n:l,c,f,h],g=r.apply(n,d);return ks(e)&&Is(g,d),g.placeholder=i,$s(g,e,t)}function Gi(e){var t=Pe[e];return function(e,n){if(e=ya(e),(n=null==n?0:bn(ma(n),292))&&mn(e)){var r=(ba(e)+"e").split("e");return+((r=(ba(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Yi=An&&1/ln(new An([,-0]))[1]==f?function(e){return new An(e)}:cu;function Ji(e){return function(t){var n=gs(t);return n==S?on(t):n==z?cn(t):function(e,t){return Tt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Xi(e,t,i,f,h,p,d,g){var m=2&t;if(!m&&"function"!=typeof e)throw new Ie(r);var v=f?f.length:0;if(v||(t&=-97,f=h=n),d=d===n?d:_n(ma(d),0),g=g===n?g:ma(g),v-=h?h.length:0,t&u){var y=f,_=h;f=h=n}var b=m?n:os(e),w=[e,t,i,f,h,y,_,p,d,g];if(b&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==l&&8==n||r==l&&n==c&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var f=e[3];e[3]=f?Ai(f,u,t[4]):u,e[4]=f?un(e[3],s):t[4]}(u=t[5])&&(f=e[5],e[5]=f?zi(f,u,t[6]):u,e[6]=f?un(e[5],s):t[6]);(u=t[7])&&(e[7]=u);r&l&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(w,b),e=w[0],t=w[1],i=w[2],f=w[3],h=w[4],!(g=w[9]=w[9]===n?m?0:e.length:_n(w[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)k=8==t||t==o?function(e,t,r){var i=Bi(e);return function s(){for(var o=arguments.length,a=xe(o),u=o,l=us(s);u--;)a[u]=arguments[u];var c=o<3&&a[0]!==l&&a[o-1]!==l?[]:un(a,l);return(o-=c.length)<r?Ki(e,t,Wi,s.placeholder,n,a,c,n,n,r-o):St(this&&this!==ht&&this instanceof s?i:e,this,a)}}(e,t,g):t!=a&&33!=t||h.length?Wi.apply(n,w):function(e,t,n,r){var i=1&t,s=Bi(e);return function t(){for(var o=-1,a=arguments.length,u=-1,l=r.length,c=xe(l+a),f=this&&this!==ht&&this instanceof t?s:e;++u<l;)c[u]=r[u];for(;a--;)c[u++]=arguments[++o];return St(f,i?n:this,c)}}(e,t,i,f);else var k=function(e,t,n){var r=1&t,i=Bi(e);return function t(){return(this&&this!==ht&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,i);return $s((b?ti:Is)(k,w),e,t)}function Qi(e,t,r,i){return e===n||Fo(e,$e[r])&&!De.call(i,r)?t:e}function es(e,t,r,i,s,o){return na(e)&&na(t)&&(o.set(t,e),Ur(e,t,n,es,o),o.delete(t)),e}function ts(e){return oa(e)?n:e}function ns(e,t,r,i,s,o){var a=1&r,u=e.length,l=t.length;if(u!=l&&!(a&&l>u))return!1;var c=o.get(e),f=o.get(t);if(c&&f)return c==t&&f==e;var h=-1,p=!0,d=2&r?new Gn:n;for(o.set(e,t),o.set(t,e);++h<u;){var g=e[h],m=t[h];if(i)var v=a?i(m,g,h,t,e,o):i(g,m,h,e,t,o);if(v!==n){if(v)continue;p=!1;break}if(d){if(!Ot(t,(function(e,t){if(!Jt(d,t)&&(g===e||s(g,e,r,i,o)))return d.push(t)}))){p=!1;break}}else if(g!==m&&!s(g,m,r,i,o)){p=!1;break}}return o.delete(e),o.delete(t),p}function rs(e){return js(Ps(e,n,Zs),e+"")}function is(e){return Er(e,ja,ps)}function ss(e){return Er(e,$a,ds)}var os=In?function(e){return In.get(e)}:cu;function as(e){for(var t=e.name+"",n=Tn[t],r=De.call(Tn,t)?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==e)return i.name}return t}function us(e){return(De.call(Wn,"placeholder")?Wn:e).placeholder}function ls(){var e=Wn.iteratee||ou;return e=e===ou?Or:e,arguments.length?e(arguments[0],arguments[1]):e}function cs(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function fs(e){for(var t=ja(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Es(i)]}return t}function hs(e,t){var r=function(e,t){return null==e?n:e[t]}(e,t);return Lr(r)?r:n}var ps=Ht?function(e){return null==e?[]:(e=Ae(e),zt(Ht(e),(function(t){return Ye.call(e,t)})))}:vu,ds=Ht?function(e){for(var t=[];e;)jt(t,ps(e)),e=Ke(e);return t}:vu,gs=Cr;function ms(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,s=!1;++r<i;){var o=Bs(t[r]);if(!(s=null!=e&&n(e,o)))break;e=e[o]}return s||++r!=i?s:!!(i=null==e?0:e.length)&&ta(i)&&_s(o,i)&&(Zo(e)||Ho(e))}function vs(e){return"function"!=typeof e.constructor||Ss(e)?{}:Fn(Ke(e))}function ys(e){return Zo(e)||Ho(e)||!!(tt&&e&&e[tt])}function _s(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&_e.test(e))&&e>-1&&e%1==0&&e<t}function bs(e,t,n){if(!na(n))return!1;var r=typeof t;return!!("number"==r?Ko(n)&&_s(t,n.length):"string"==r&&t in n)&&Fo(n[t],e)}function ws(e,t){if(Zo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ca(e))||(te.test(e)||!ee.test(e)||null!=t&&e in Ae(t))}function ks(e){var t=as(e),n=Wn[t];if("function"!=typeof n||!(t in Hn.prototype))return!1;if(e===n)return!0;var r=os(n);return!!r&&e===r[0]}(En&&gs(new En(new ArrayBuffer(1)))!=$||Cn&&gs(new Cn)!=S||Pn&&gs(Pn.resolve())!=P||An&&gs(new An)!=z||zn&&gs(new zn)!=T)&&(gs=function(e){var t=Cr(e),r=t==C?e.constructor:n,i=r?Ms(r):"";if(i)switch(i){case jn:return $;case $n:return S;case Ln:return P;case On:return z;case Dn:return T}return t});var xs=Le?Qo:yu;function Ss(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||$e)}function Es(e){return e==e&&!na(e)}function Cs(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==n||e in Ae(r)))}}function Ps(e,t,r){return t=_n(t===n?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=_n(n.length-t,0),o=xe(s);++i<s;)o[i]=n[t+i];i=-1;for(var a=xe(t+1);++i<t;)a[i]=n[i];return a[t]=r(o),St(e,this,a)}}function As(e,t){return t.length<2?e:Sr(e,ii(t,0,-1))}function zs(e,t){for(var r=e.length,i=bn(t.length,r),s=Ri(e);i--;){var o=t[i];e[i]=_s(o,r)?s[o]:n}return e}function Rs(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Is=Ls(ti),Ts=mt||function(e,t){return ht.setTimeout(e,t)},js=Ls(ni);function $s(e,t,n){var r=t+"";return js(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ct(g,(function(n){var r="_."+n[0];t&n[1]&&!Rt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ce):[]}(r),n)))}function Ls(e){var t=0,r=0;return function(){var i=wn(),s=16-(i-r);if(r=i,s>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(n,arguments)}}function Os(e,t){var r=-1,i=e.length,s=i-1;for(t=t===n?i:t;++r<t;){var o=Gr(r,s),a=e[o];e[o]=e[r],e[r]=a}return e.length=t,e}var Ds=function(e){var t=Oo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ne,(function(e,n,r,i){t.push(r?i.replace(he,"$1"):n||e)})),t}));function Bs(e){if("string"==typeof e||ca(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ms(e){if(null!=e){try{return Oe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ns(e){if(e instanceof Hn)return e.clone();var t=new qn(e.__wrapped__,e.__chain__);return t.__actions__=Ri(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ws=Jr((function(e,t){return Go(e)?hr(e,yr(t,1,Go,!0)):[]})),Fs=Jr((function(e,t){var r=Js(t);return Go(r)&&(r=n),Go(e)?hr(e,yr(t,1,Go,!0),ls(r,2)):[]})),Us=Jr((function(e,t){var r=Js(t);return Go(r)&&(r=n),Go(e)?hr(e,yr(t,1,Go,!0),n,r):[]}));function qs(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ma(n);return i<0&&(i=_n(r+i,0)),Mt(e,ls(t,3),i)}function Hs(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var s=i-1;return r!==n&&(s=ma(r),s=r<0?_n(i+s,0):bn(s,i-1)),Mt(e,ls(t,3),s,!0)}function Zs(e){return(null==e?0:e.length)?yr(e,1):[]}function Vs(e){return e&&e.length?e[0]:n}var Ks=Jr((function(e){var t=Tt(e,yi);return t.length&&t[0]===e[0]?Rr(t):[]})),Gs=Jr((function(e){var t=Js(e),r=Tt(e,yi);return t===Js(r)?t=n:r.pop(),r.length&&r[0]===e[0]?Rr(r,ls(t,2)):[]})),Ys=Jr((function(e){var t=Js(e),r=Tt(e,yi);return(t="function"==typeof t?t:n)&&r.pop(),r.length&&r[0]===e[0]?Rr(r,n,t):[]}));function Js(e){var t=null==e?0:e.length;return t?e[t-1]:n}var Xs=Jr(Qs);function Qs(e,t){return e&&e.length&&t&&t.length?Vr(e,t):e}var eo=rs((function(e,t){var n=null==e?0:e.length,r=ar(e,t);return Kr(e,Tt(t,(function(e){return _s(e,n)?+e:e})).sort(Pi)),r}));function to(e){return null==e?e:Sn.call(e)}var no=Jr((function(e){return fi(yr(e,1,Go,!0))})),ro=Jr((function(e){var t=Js(e);return Go(t)&&(t=n),fi(yr(e,1,Go,!0),ls(t,2))})),io=Jr((function(e){var t=Js(e);return t="function"==typeof t?t:n,fi(yr(e,1,Go,!0),n,t)}));function so(e){if(!e||!e.length)return[];var t=0;return e=zt(e,(function(e){if(Go(e))return t=_n(e.length,t),!0})),Kt(t,(function(t){return Tt(e,qt(t))}))}function oo(e,t){if(!e||!e.length)return[];var r=so(e);return null==t?r:Tt(r,(function(e){return St(t,n,e)}))}var ao=Jr((function(e,t){return Go(e)?hr(e,t):[]})),uo=Jr((function(e){return mi(zt(e,Go))})),lo=Jr((function(e){var t=Js(e);return Go(t)&&(t=n),mi(zt(e,Go),ls(t,2))})),co=Jr((function(e){var t=Js(e);return t="function"==typeof t?t:n,mi(zt(e,Go),n,t)})),fo=Jr(so);var ho=Jr((function(e){var t=e.length,r=t>1?e[t-1]:n;return r="function"==typeof r?(e.pop(),r):n,oo(e,r)}));function po(e){var t=Wn(e);return t.__chain__=!0,t}function go(e,t){return t(e)}var mo=rs((function(e){var t=e.length,r=t?e[0]:0,i=this.__wrapped__,s=function(t){return ar(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Hn&&_s(r)?((i=i.slice(r,+r+(t?1:0))).__actions__.push({func:go,args:[s],thisArg:n}),new qn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(n),e}))):this.thru(s)}));var vo=Ti((function(e,t,n){De.call(e,n)?++e[n]:or(e,n,1)}));var yo=Mi(qs),_o=Mi(Hs);function bo(e,t){return(Zo(e)?Ct:pr)(e,ls(t,3))}function wo(e,t){return(Zo(e)?Pt:dr)(e,ls(t,3))}var ko=Ti((function(e,t,n){De.call(e,n)?e[n].push(t):or(e,n,[t])}));var xo=Jr((function(e,t,n){var r=-1,i="function"==typeof t,s=Ko(e)?xe(e.length):[];return pr(e,(function(e){s[++r]=i?St(t,e,n):Ir(e,t,n)})),s})),So=Ti((function(e,t,n){or(e,n,t)}));function Eo(e,t){return(Zo(e)?Tt:Nr)(e,ls(t,3))}var Co=Ti((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Po=Jr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&bs(e,t[0],t[1])?t=[]:n>2&&bs(t[0],t[1],t[2])&&(t=[t[0]]),Hr(e,yr(t,1),[])})),Ao=dt||function(){return ht.Date.now()};function zo(e,t,r){return t=r?n:t,t=e&&null==t?e.length:t,Xi(e,l,n,n,n,n,t)}function Ro(e,t){var i;if("function"!=typeof t)throw new Ie(r);return e=ma(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=n),i}}var Io=Jr((function(e,t,n){var r=1;if(n.length){var i=un(n,us(Io));r|=a}return Xi(e,r,t,n,i)})),To=Jr((function(e,t,n){var r=3;if(n.length){var i=un(n,us(To));r|=a}return Xi(t,r,e,n,i)}));function jo(e,t,i){var s,o,a,u,l,c,f=0,h=!1,p=!1,d=!0;if("function"!=typeof e)throw new Ie(r);function g(t){var r=s,i=o;return s=o=n,f=t,u=e.apply(i,r)}function m(e){return f=e,l=Ts(y,t),h?g(e):u}function v(e){var r=e-c;return c===n||r>=t||r<0||p&&e-f>=a}function y(){var e=Ao();if(v(e))return _(e);l=Ts(y,function(e){var n=t-(e-c);return p?bn(n,a-(e-f)):n}(e))}function _(e){return l=n,d&&s?g(e):(s=o=n,u)}function b(){var e=Ao(),r=v(e);if(s=arguments,o=this,c=e,r){if(l===n)return m(c);if(p)return xi(l),l=Ts(y,t),g(c)}return l===n&&(l=Ts(y,t)),u}return t=ya(t)||0,na(i)&&(h=!!i.leading,a=(p="maxWait"in i)?_n(ya(i.maxWait)||0,t):a,d="trailing"in i?!!i.trailing:d),b.cancel=function(){l!==n&&xi(l),f=0,s=c=o=l=n},b.flush=function(){return l===n?u:_(Ao())},b}var $o=Jr((function(e,t){return fr(e,1,t)})),Lo=Jr((function(e,t,n){return fr(e,ya(t)||0,n)}));function Oo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ie(r);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Oo.Cache||Kn),n}function Do(e){if("function"!=typeof e)throw new Ie(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Oo.Cache=Kn;var Bo=wi((function(e,t){var n=(t=1==t.length&&Zo(t[0])?Tt(t[0],Gt(ls())):Tt(yr(t,1),Gt(ls()))).length;return Jr((function(r){for(var i=-1,s=bn(r.length,n);++i<s;)r[i]=t[i].call(this,r[i]);return St(e,this,r)}))})),Mo=Jr((function(e,t){var r=un(t,us(Mo));return Xi(e,a,n,t,r)})),No=Jr((function(e,t){var r=un(t,us(No));return Xi(e,u,n,t,r)})),Wo=rs((function(e,t){return Xi(e,c,n,n,n,t)}));function Fo(e,t){return e===t||e!=e&&t!=t}var Uo=Vi(Pr),qo=Vi((function(e,t){return e>=t})),Ho=Tr(function(){return arguments}())?Tr:function(e){return ra(e)&&De.call(e,"callee")&&!Ye.call(e,"callee")},Zo=xe.isArray,Vo=yt?Gt(yt):function(e){return ra(e)&&Cr(e)==j};function Ko(e){return null!=e&&ta(e.length)&&!Qo(e)}function Go(e){return ra(e)&&Ko(e)}var Yo=gn||yu,Jo=_t?Gt(_t):function(e){return ra(e)&&Cr(e)==_};function Xo(e){if(!ra(e))return!1;var t=Cr(e);return t==w||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!oa(e)}function Qo(e){if(!na(e))return!1;var t=Cr(e);return t==k||t==x||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ea(e){return"number"==typeof e&&e==ma(e)}function ta(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function na(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ra(e){return null!=e&&"object"==typeof e}var ia=bt?Gt(bt):function(e){return ra(e)&&gs(e)==S};function sa(e){return"number"==typeof e||ra(e)&&Cr(e)==E}function oa(e){if(!ra(e)||Cr(e)!=C)return!1;var t=Ke(e);if(null===t)return!0;var n=De.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Oe.call(n)==We}var aa=wt?Gt(wt):function(e){return ra(e)&&Cr(e)==A};var ua=kt?Gt(kt):function(e){return ra(e)&&gs(e)==z};function la(e){return"string"==typeof e||!Zo(e)&&ra(e)&&Cr(e)==R}function ca(e){return"symbol"==typeof e||ra(e)&&Cr(e)==I}var fa=xt?Gt(xt):function(e){return ra(e)&&ta(e.length)&&!!st[Cr(e)]};var ha=Vi(Mr),pa=Vi((function(e,t){return e<=t}));function da(e){if(!e)return[];if(Ko(e))return la(e)?hn(e):Ri(e);if(at&&e[at])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[at]());var t=gs(e);return(t==S?on:t==z?ln:Fa)(e)}function ga(e){return e?(e=ya(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ma(e){var t=ga(e),n=t%1;return t==t?n?t-n:t:0}function va(e){return e?ur(ma(e),0,d):0}function ya(e){if("number"==typeof e)return e;if(ca(e))return p;if(na(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=na(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(se,"");var n=me.test(e);return n||ye.test(e)?lt(e.slice(2),n?2:8):ge.test(e)?p:+e}function _a(e){return Ii(e,$a(e))}function ba(e){return null==e?"":ci(e)}var wa=ji((function(e,t){if(Ss(t)||Ko(t))Ii(t,ja(t),e);else for(var n in t)De.call(t,n)&&nr(e,n,t[n])})),ka=ji((function(e,t){Ii(t,$a(t),e)})),xa=ji((function(e,t,n,r){Ii(t,$a(t),e,r)})),Sa=ji((function(e,t,n,r){Ii(t,ja(t),e,r)})),Ea=rs(ar);var Ca=Jr((function(e,t){e=Ae(e);var r=-1,i=t.length,s=i>2?t[2]:n;for(s&&bs(t[0],t[1],s)&&(i=1);++r<i;)for(var o=t[r],a=$a(o),u=-1,l=a.length;++u<l;){var c=a[u],f=e[c];(f===n||Fo(f,$e[c])&&!De.call(e,c))&&(e[c]=o[c])}return e})),Pa=Jr((function(e){return e.push(n,es),St(Oa,n,e)}));function Aa(e,t,r){var i=null==e?n:Sr(e,t);return i===n?r:i}function za(e,t){return null!=e&&ms(e,t,zr)}var Ra=Fi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ne.call(t)),e[t]=n}),nu(su)),Ia=Fi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ne.call(t)),De.call(e,t)?e[t].push(n):e[t]=[n]}),ls),Ta=Jr(Ir);function ja(e){return Ko(e)?Jn(e):Dr(e)}function $a(e){return Ko(e)?Jn(e,!0):Br(e)}var La=ji((function(e,t,n){Ur(e,t,n)})),Oa=ji((function(e,t,n,r){Ur(e,t,n,r)})),Da=rs((function(e,t){var n={};if(null==e)return n;var r=!1;t=Tt(t,(function(t){return t=bi(t,e),r||(r=t.length>1),t})),Ii(e,ss(e),n),r&&(n=lr(n,7,ts));for(var i=t.length;i--;)hi(n,t[i]);return n}));var Ba=rs((function(e,t){return null==e?{}:function(e,t){return Zr(e,t,(function(t,n){return za(e,n)}))}(e,t)}));function Ma(e,t){if(null==e)return{};var n=Tt(ss(e),(function(e){return[e]}));return t=ls(t),Zr(e,n,(function(e,n){return t(e,n[0])}))}var Na=Ji(ja),Wa=Ji($a);function Fa(e){return null==e?[]:Yt(e,ja(e))}var Ua=Di((function(e,t,n){return t=t.toLowerCase(),e+(n?qa(t):t)}));function qa(e){return Xa(ba(e).toLowerCase())}function Ha(e){return(e=ba(e))&&e.replace(be,tn).replace(Xe,"")}var Za=Di((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Va=Di((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ka=Oi("toLowerCase");var Ga=Di((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Ya=Di((function(e,t,n){return e+(n?" ":"")+Xa(t)}));var Ja=Di((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xa=Oi("toUpperCase");function Qa(e,t,r){return e=ba(e),(t=r?n:t)===n?function(e){return nt.test(e)}(e)?function(e){return e.match(et)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var eu=Jr((function(e,t){try{return St(e,n,t)}catch(e){return Xo(e)?e:new Ee(e)}})),tu=rs((function(e,t){return Ct(t,(function(t){t=Bs(t),or(e,t,Io(e[t],e))})),e}));function nu(e){return function(){return e}}var ru=Ni(),iu=Ni(!0);function su(e){return e}function ou(e){return Or("function"==typeof e?e:lr(e,1))}var au=Jr((function(e,t){return function(n){return Ir(n,e,t)}})),uu=Jr((function(e,t){return function(n){return Ir(e,n,t)}}));function lu(e,t,n){var r=ja(t),i=xr(t,r);null!=n||na(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=xr(t,ja(t)));var s=!(na(n)&&"chain"in n&&!n.chain),o=Qo(e);return Ct(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__),i=n.__actions__=Ri(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,jt([this.value()],arguments))})})),e}function cu(){}var fu=qi(Tt),hu=qi(At),pu=qi(Ot);function du(e){return ws(e)?qt(Bs(e)):function(e){return function(t){return Sr(t,e)}}(e)}var gu=Zi(),mu=Zi(!0);function vu(){return[]}function yu(){return!1}var _u=Ui((function(e,t){return e+t}),0),bu=Gi("ceil"),wu=Ui((function(e,t){return e/t}),1),ku=Gi("floor");var xu=Ui((function(e,t){return e*t}),1),Su=Gi("round"),Eu=Ui((function(e,t){return e-t}),0);return Wn.after=function(e,t){if("function"!=typeof t)throw new Ie(r);return e=ma(e),function(){if(--e<1)return t.apply(this,arguments)}},Wn.ary=zo,Wn.assign=wa,Wn.assignIn=ka,Wn.assignInWith=xa,Wn.assignWith=Sa,Wn.at=Ea,Wn.before=Ro,Wn.bind=Io,Wn.bindAll=tu,Wn.bindKey=To,Wn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Zo(e)?e:[e]},Wn.chain=po,Wn.chunk=function(e,t,r){t=(r?bs(e,t,r):t===n)?1:_n(ma(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var s=0,o=0,a=xe(vt(i/t));s<i;)a[o++]=ii(e,s,s+=t);return a},Wn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var s=e[t];s&&(i[r++]=s)}return i},Wn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=xe(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return jt(Zo(n)?Ri(n):[n],yr(t,1))},Wn.cond=function(e){var t=null==e?0:e.length,n=ls();return e=t?Tt(e,(function(e){if("function"!=typeof e[1])throw new Ie(r);return[n(e[0]),e[1]]})):[],Jr((function(n){for(var r=-1;++r<t;){var i=e[r];if(St(i[0],this,n))return St(i[1],this,n)}}))},Wn.conforms=function(e){return function(e){var t=ja(e);return function(n){return cr(n,e,t)}}(lr(e,1))},Wn.constant=nu,Wn.countBy=vo,Wn.create=function(e,t){var n=Fn(e);return null==t?n:sr(n,t)},Wn.curry=function e(t,r,i){var s=Xi(t,8,n,n,n,n,n,r=i?n:r);return s.placeholder=e.placeholder,s},Wn.curryRight=function e(t,r,i){var s=Xi(t,o,n,n,n,n,n,r=i?n:r);return s.placeholder=e.placeholder,s},Wn.debounce=jo,Wn.defaults=Ca,Wn.defaultsDeep=Pa,Wn.defer=$o,Wn.delay=Lo,Wn.difference=Ws,Wn.differenceBy=Fs,Wn.differenceWith=Us,Wn.drop=function(e,t,r){var i=null==e?0:e.length;return i?ii(e,(t=r||t===n?1:ma(t))<0?0:t,i):[]},Wn.dropRight=function(e,t,r){var i=null==e?0:e.length;return i?ii(e,0,(t=i-(t=r||t===n?1:ma(t)))<0?0:t):[]},Wn.dropRightWhile=function(e,t){return e&&e.length?di(e,ls(t,3),!0,!0):[]},Wn.dropWhile=function(e,t){return e&&e.length?di(e,ls(t,3),!0):[]},Wn.fill=function(e,t,r,i){var s=null==e?0:e.length;return s?(r&&"number"!=typeof r&&bs(e,t,r)&&(r=0,i=s),function(e,t,r,i){var s=e.length;for((r=ma(r))<0&&(r=-r>s?0:s+r),(i=i===n||i>s?s:ma(i))<0&&(i+=s),i=r>i?0:va(i);r<i;)e[r++]=t;return e}(e,t,r,i)):[]},Wn.filter=function(e,t){return(Zo(e)?zt:vr)(e,ls(t,3))},Wn.flatMap=function(e,t){return yr(Eo(e,t),1)},Wn.flatMapDeep=function(e,t){return yr(Eo(e,t),f)},Wn.flatMapDepth=function(e,t,r){return r=r===n?1:ma(r),yr(Eo(e,t),r)},Wn.flatten=Zs,Wn.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,f):[]},Wn.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===n?1:ma(t)):[]},Wn.flip=function(e){return Xi(e,512)},Wn.flow=ru,Wn.flowRight=iu,Wn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Wn.functions=function(e){return null==e?[]:xr(e,ja(e))},Wn.functionsIn=function(e){return null==e?[]:xr(e,$a(e))},Wn.groupBy=ko,Wn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Wn.intersection=Ks,Wn.intersectionBy=Gs,Wn.intersectionWith=Ys,Wn.invert=Ra,Wn.invertBy=Ia,Wn.invokeMap=xo,Wn.iteratee=ou,Wn.keyBy=So,Wn.keys=ja,Wn.keysIn=$a,Wn.map=Eo,Wn.mapKeys=function(e,t){var n={};return t=ls(t,3),wr(e,(function(e,r,i){or(n,t(e,r,i),e)})),n},Wn.mapValues=function(e,t){var n={};return t=ls(t,3),wr(e,(function(e,r,i){or(n,r,t(e,r,i))})),n},Wn.matches=function(e){return Wr(lr(e,1))},Wn.matchesProperty=function(e,t){return Fr(e,lr(t,1))},Wn.memoize=Oo,Wn.merge=La,Wn.mergeWith=Oa,Wn.method=au,Wn.methodOf=uu,Wn.mixin=lu,Wn.negate=Do,Wn.nthArg=function(e){return e=ma(e),Jr((function(t){return qr(t,e)}))},Wn.omit=Da,Wn.omitBy=function(e,t){return Ma(e,Do(ls(t)))},Wn.once=function(e){return Ro(2,e)},Wn.orderBy=function(e,t,r,i){return null==e?[]:(Zo(t)||(t=null==t?[]:[t]),Zo(r=i?n:r)||(r=null==r?[]:[r]),Hr(e,t,r))},Wn.over=fu,Wn.overArgs=Bo,Wn.overEvery=hu,Wn.overSome=pu,Wn.partial=Mo,Wn.partialRight=No,Wn.partition=Co,Wn.pick=Ba,Wn.pickBy=Ma,Wn.property=du,Wn.propertyOf=function(e){return function(t){return null==e?n:Sr(e,t)}},Wn.pull=Xs,Wn.pullAll=Qs,Wn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Vr(e,t,ls(n,2)):e},Wn.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Vr(e,t,n,r):e},Wn.pullAt=eo,Wn.range=gu,Wn.rangeRight=mu,Wn.rearg=Wo,Wn.reject=function(e,t){return(Zo(e)?zt:vr)(e,Do(ls(t,3)))},Wn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],s=e.length;for(t=ls(t,3);++r<s;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Kr(e,i),n},Wn.rest=function(e,t){if("function"!=typeof e)throw new Ie(r);return Jr(e,t=t===n?t:ma(t))},Wn.reverse=to,Wn.sampleSize=function(e,t,r){return t=(r?bs(e,t,r):t===n)?1:ma(t),(Zo(e)?Qn:Qr)(e,t)},Wn.set=function(e,t,n){return null==e?e:ei(e,t,n)},Wn.setWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:ei(e,t,r,i)},Wn.shuffle=function(e){return(Zo(e)?er:ri)(e)},Wn.slice=function(e,t,r){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&bs(e,t,r)?(t=0,r=i):(t=null==t?0:ma(t),r=r===n?i:ma(r)),ii(e,t,r)):[]},Wn.sortBy=Po,Wn.sortedUniq=function(e){return e&&e.length?ui(e):[]},Wn.sortedUniqBy=function(e,t){return e&&e.length?ui(e,ls(t,2)):[]},Wn.split=function(e,t,r){return r&&"number"!=typeof r&&bs(e,t,r)&&(t=r=n),(r=r===n?d:r>>>0)?(e=ba(e))&&("string"==typeof t||null!=t&&!aa(t))&&!(t=ci(t))&&sn(e)?ki(hn(e),0,r):e.split(t,r):[]},Wn.spread=function(e,t){if("function"!=typeof e)throw new Ie(r);return t=null==t?0:_n(ma(t),0),Jr((function(n){var r=n[t],i=ki(n,0,t);return r&&jt(i,r),St(e,this,i)}))},Wn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Wn.take=function(e,t,r){return e&&e.length?ii(e,0,(t=r||t===n?1:ma(t))<0?0:t):[]},Wn.takeRight=function(e,t,r){var i=null==e?0:e.length;return i?ii(e,(t=i-(t=r||t===n?1:ma(t)))<0?0:t,i):[]},Wn.takeRightWhile=function(e,t){return e&&e.length?di(e,ls(t,3),!1,!0):[]},Wn.takeWhile=function(e,t){return e&&e.length?di(e,ls(t,3)):[]},Wn.tap=function(e,t){return t(e),e},Wn.throttle=function(e,t,n){var i=!0,s=!0;if("function"!=typeof e)throw new Ie(r);return na(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),jo(e,t,{leading:i,maxWait:t,trailing:s})},Wn.thru=go,Wn.toArray=da,Wn.toPairs=Na,Wn.toPairsIn=Wa,Wn.toPath=function(e){return Zo(e)?Tt(e,Bs):ca(e)?[e]:Ri(Ds(ba(e)))},Wn.toPlainObject=_a,Wn.transform=function(e,t,n){var r=Zo(e),i=r||Yo(e)||fa(e);if(t=ls(t,4),null==n){var s=e&&e.constructor;n=i?r?new s:[]:na(e)&&Qo(s)?Fn(Ke(e)):{}}return(i?Ct:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Wn.unary=function(e){return zo(e,1)},Wn.union=no,Wn.unionBy=ro,Wn.unionWith=io,Wn.uniq=function(e){return e&&e.length?fi(e):[]},Wn.uniqBy=function(e,t){return e&&e.length?fi(e,ls(t,2)):[]},Wn.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?fi(e,n,t):[]},Wn.unset=function(e,t){return null==e||hi(e,t)},Wn.unzip=so,Wn.unzipWith=oo,Wn.update=function(e,t,n){return null==e?e:pi(e,t,_i(n))},Wn.updateWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:pi(e,t,_i(r),i)},Wn.values=Fa,Wn.valuesIn=function(e){return null==e?[]:Yt(e,$a(e))},Wn.without=ao,Wn.words=Qa,Wn.wrap=function(e,t){return Mo(_i(t),e)},Wn.xor=uo,Wn.xorBy=lo,Wn.xorWith=co,Wn.zip=fo,Wn.zipObject=function(e,t){return vi(e||[],t||[],nr)},Wn.zipObjectDeep=function(e,t){return vi(e||[],t||[],ei)},Wn.zipWith=ho,Wn.entries=Na,Wn.entriesIn=Wa,Wn.extend=ka,Wn.extendWith=xa,lu(Wn,Wn),Wn.add=_u,Wn.attempt=eu,Wn.camelCase=Ua,Wn.capitalize=qa,Wn.ceil=bu,Wn.clamp=function(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=(r=ya(r))==r?r:0),t!==n&&(t=(t=ya(t))==t?t:0),ur(ya(e),t,r)},Wn.clone=function(e){return lr(e,4)},Wn.cloneDeep=function(e){return lr(e,5)},Wn.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:n)},Wn.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:n)},Wn.conformsTo=function(e,t){return null==t||cr(e,t,ja(t))},Wn.deburr=Ha,Wn.defaultTo=function(e,t){return null==e||e!=e?t:e},Wn.divide=wu,Wn.endsWith=function(e,t,r){e=ba(e),t=ci(t);var i=e.length,s=r=r===n?i:ur(ma(r),0,i);return(r-=t.length)>=0&&e.slice(r,s)==t},Wn.eq=Fo,Wn.escape=function(e){return(e=ba(e))&&Y.test(e)?e.replace(K,nn):e},Wn.escapeRegExp=function(e){return(e=ba(e))&&ie.test(e)?e.replace(re,"\\$&"):e},Wn.every=function(e,t,r){var i=Zo(e)?At:gr;return r&&bs(e,t,r)&&(t=n),i(e,ls(t,3))},Wn.find=yo,Wn.findIndex=qs,Wn.findKey=function(e,t){return Bt(e,ls(t,3),wr)},Wn.findLast=_o,Wn.findLastIndex=Hs,Wn.findLastKey=function(e,t){return Bt(e,ls(t,3),kr)},Wn.floor=ku,Wn.forEach=bo,Wn.forEachRight=wo,Wn.forIn=function(e,t){return null==e?e:_r(e,ls(t,3),$a)},Wn.forInRight=function(e,t){return null==e?e:br(e,ls(t,3),$a)},Wn.forOwn=function(e,t){return e&&wr(e,ls(t,3))},Wn.forOwnRight=function(e,t){return e&&kr(e,ls(t,3))},Wn.get=Aa,Wn.gt=Uo,Wn.gte=qo,Wn.has=function(e,t){return null!=e&&ms(e,t,Ar)},Wn.hasIn=za,Wn.head=Vs,Wn.identity=su,Wn.includes=function(e,t,n,r){e=Ko(e)?e:Fa(e),n=n&&!r?ma(n):0;var i=e.length;return n<0&&(n=_n(i+n,0)),la(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Nt(e,t,n)>-1},Wn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ma(n);return i<0&&(i=_n(r+i,0)),Nt(e,t,i)},Wn.inRange=function(e,t,r){return t=ga(t),r===n?(r=t,t=0):r=ga(r),function(e,t,n){return e>=bn(t,n)&&e<_n(t,n)}(e=ya(e),t,r)},Wn.invoke=Ta,Wn.isArguments=Ho,Wn.isArray=Zo,Wn.isArrayBuffer=Vo,Wn.isArrayLike=Ko,Wn.isArrayLikeObject=Go,Wn.isBoolean=function(e){return!0===e||!1===e||ra(e)&&Cr(e)==y},Wn.isBuffer=Yo,Wn.isDate=Jo,Wn.isElement=function(e){return ra(e)&&1===e.nodeType&&!oa(e)},Wn.isEmpty=function(e){if(null==e)return!0;if(Ko(e)&&(Zo(e)||"string"==typeof e||"function"==typeof e.splice||Yo(e)||fa(e)||Ho(e)))return!e.length;var t=gs(e);if(t==S||t==z)return!e.size;if(Ss(e))return!Dr(e).length;for(var n in e)if(De.call(e,n))return!1;return!0},Wn.isEqual=function(e,t){return jr(e,t)},Wn.isEqualWith=function(e,t,r){var i=(r="function"==typeof r?r:n)?r(e,t):n;return i===n?jr(e,t,n,r):!!i},Wn.isError=Xo,Wn.isFinite=function(e){return"number"==typeof e&&mn(e)},Wn.isFunction=Qo,Wn.isInteger=ea,Wn.isLength=ta,Wn.isMap=ia,Wn.isMatch=function(e,t){return e===t||$r(e,t,fs(t))},Wn.isMatchWith=function(e,t,r){return r="function"==typeof r?r:n,$r(e,t,fs(t),r)},Wn.isNaN=function(e){return sa(e)&&e!=+e},Wn.isNative=function(e){if(xs(e))throw new Ee("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(e)},Wn.isNil=function(e){return null==e},Wn.isNull=function(e){return null===e},Wn.isNumber=sa,Wn.isObject=na,Wn.isObjectLike=ra,Wn.isPlainObject=oa,Wn.isRegExp=aa,Wn.isSafeInteger=function(e){return ea(e)&&e>=-9007199254740991&&e<=h},Wn.isSet=ua,Wn.isString=la,Wn.isSymbol=ca,Wn.isTypedArray=fa,Wn.isUndefined=function(e){return e===n},Wn.isWeakMap=function(e){return ra(e)&&gs(e)==T},Wn.isWeakSet=function(e){return ra(e)&&"[object WeakSet]"==Cr(e)},Wn.join=function(e,t){return null==e?"":vn.call(e,t)},Wn.kebabCase=Za,Wn.last=Js,Wn.lastIndexOf=function(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var s=i;return r!==n&&(s=(s=ma(r))<0?_n(i+s,0):bn(s,i-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,s):Mt(e,Ft,s,!0)},Wn.lowerCase=Va,Wn.lowerFirst=Ka,Wn.lt=ha,Wn.lte=pa,Wn.max=function(e){return e&&e.length?mr(e,su,Pr):n},Wn.maxBy=function(e,t){return e&&e.length?mr(e,ls(t,2),Pr):n},Wn.mean=function(e){return Ut(e,su)},Wn.meanBy=function(e,t){return Ut(e,ls(t,2))},Wn.min=function(e){return e&&e.length?mr(e,su,Mr):n},Wn.minBy=function(e,t){return e&&e.length?mr(e,ls(t,2),Mr):n},Wn.stubArray=vu,Wn.stubFalse=yu,Wn.stubObject=function(){return{}},Wn.stubString=function(){return""},Wn.stubTrue=function(){return!0},Wn.multiply=xu,Wn.nth=function(e,t){return e&&e.length?qr(e,ma(t)):n},Wn.noConflict=function(){return ht._===this&&(ht._=Fe),this},Wn.noop=cu,Wn.now=Ao,Wn.pad=function(e,t,n){e=ba(e);var r=(t=ma(t))?fn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Hi(Dt(i),n)+e+Hi(vt(i),n)},Wn.padEnd=function(e,t,n){e=ba(e);var r=(t=ma(t))?fn(e):0;return t&&r<t?e+Hi(t-r,n):e},Wn.padStart=function(e,t,n){e=ba(e);var r=(t=ma(t))?fn(e):0;return t&&r<t?Hi(t-r,n)+e:e},Wn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),kn(ba(e).replace(oe,""),t||0)},Wn.random=function(e,t,r){if(r&&"boolean"!=typeof r&&bs(e,t,r)&&(t=r=n),r===n&&("boolean"==typeof t?(r=t,t=n):"boolean"==typeof e&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=ga(e),t===n?(t=e,e=0):t=ga(t)),e>t){var i=e;e=t,t=i}if(r||e%1||t%1){var s=xn();return bn(e+s*(t-e+ut("1e-"+((s+"").length-1))),t)}return Gr(e,t)},Wn.reduce=function(e,t,n){var r=Zo(e)?$t:Zt,i=arguments.length<3;return r(e,ls(t,4),n,i,pr)},Wn.reduceRight=function(e,t,n){var r=Zo(e)?Lt:Zt,i=arguments.length<3;return r(e,ls(t,4),n,i,dr)},Wn.repeat=function(e,t,r){return t=(r?bs(e,t,r):t===n)?1:ma(t),Yr(ba(e),t)},Wn.replace=function(){var e=arguments,t=ba(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Wn.result=function(e,t,r){var i=-1,s=(t=bi(t,e)).length;for(s||(s=1,e=n);++i<s;){var o=null==e?n:e[Bs(t[i])];o===n&&(i=s,o=r),e=Qo(o)?o.call(e):o}return e},Wn.round=Su,Wn.runInContext=e,Wn.sample=function(e){return(Zo(e)?Xn:Xr)(e)},Wn.size=function(e){if(null==e)return 0;if(Ko(e))return la(e)?fn(e):e.length;var t=gs(e);return t==S||t==z?e.size:Dr(e).length},Wn.snakeCase=Ga,Wn.some=function(e,t,r){var i=Zo(e)?Ot:si;return r&&bs(e,t,r)&&(t=n),i(e,ls(t,3))},Wn.sortedIndex=function(e,t){return oi(e,t)},Wn.sortedIndexBy=function(e,t,n){return ai(e,t,ls(n,2))},Wn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oi(e,t);if(r<n&&Fo(e[r],t))return r}return-1},Wn.sortedLastIndex=function(e,t){return oi(e,t,!0)},Wn.sortedLastIndexBy=function(e,t,n){return ai(e,t,ls(n,2),!0)},Wn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=oi(e,t,!0)-1;if(Fo(e[n],t))return n}return-1},Wn.startCase=Ya,Wn.startsWith=function(e,t,n){return e=ba(e),n=null==n?0:ur(ma(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},Wn.subtract=Eu,Wn.sum=function(e){return e&&e.length?Vt(e,su):0},Wn.sumBy=function(e,t){return e&&e.length?Vt(e,ls(t,2)):0},Wn.template=function(e,t,r){var i=Wn.templateSettings;r&&bs(e,t,r)&&(t=n),e=ba(e),t=xa({},t,i,Qi);var s,o,a=xa({},t.imports,i.imports,Qi),u=ja(a),l=Yt(a,u),c=0,f=t.interpolate||we,h="__p += '",p=ze((t.escape||we).source+"|"+f.source+"|"+(f===Q?pe:we).source+"|"+(t.evaluate||we).source+"|$","g"),d="//# sourceURL="+(De.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++it+"]")+"\n";e.replace(p,(function(t,n,r,i,a,u){return r||(r=i),h+=e.slice(c,u).replace(ke,rn),n&&(s=!0,h+="' +\n__e("+n+") +\n'"),a&&(o=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),h+="';\n";var g=De.call(t,"variable")&&t.variable;g||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(q,""):h).replace(H,"$1").replace(Z,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=eu((function(){return Ce(u,d+"return "+h).apply(n,l)}));if(m.source=h,Xo(m))throw m;return m},Wn.times=function(e,t){if((e=ma(e))<1||e>h)return[];var n=d,r=bn(e,d);t=ls(t),e-=d;for(var i=Kt(r,t);++n<e;)t(n);return i},Wn.toFinite=ga,Wn.toInteger=ma,Wn.toLength=va,Wn.toLower=function(e){return ba(e).toLowerCase()},Wn.toNumber=ya,Wn.toSafeInteger=function(e){return e?ur(ma(e),-9007199254740991,h):0===e?e:0},Wn.toString=ba,Wn.toUpper=function(e){return ba(e).toUpperCase()},Wn.trim=function(e,t,r){if((e=ba(e))&&(r||t===n))return e.replace(se,"");if(!e||!(t=ci(t)))return e;var i=hn(e),s=hn(t);return ki(i,Xt(i,s),Qt(i,s)+1).join("")},Wn.trimEnd=function(e,t,r){if((e=ba(e))&&(r||t===n))return e.replace(ae,"");if(!e||!(t=ci(t)))return e;var i=hn(e);return ki(i,0,Qt(i,hn(t))+1).join("")},Wn.trimStart=function(e,t,r){if((e=ba(e))&&(r||t===n))return e.replace(oe,"");if(!e||!(t=ci(t)))return e;var i=hn(e);return ki(i,Xt(i,hn(t))).join("")},Wn.truncate=function(e,t){var r=30,i="...";if(na(t)){var s="separator"in t?t.separator:s;r="length"in t?ma(t.length):r,i="omission"in t?ci(t.omission):i}var o=(e=ba(e)).length;if(sn(e)){var a=hn(e);o=a.length}if(r>=o)return e;var u=r-fn(i);if(u<1)return i;var l=a?ki(a,0,u).join(""):e.slice(0,u);if(s===n)return l+i;if(a&&(u+=l.length-u),aa(s)){if(e.slice(u).search(s)){var c,f=l;for(s.global||(s=ze(s.source,ba(de.exec(s))+"g")),s.lastIndex=0;c=s.exec(f);)var h=c.index;l=l.slice(0,h===n?u:h)}}else if(e.indexOf(ci(s),u)!=u){var p=l.lastIndexOf(s);p>-1&&(l=l.slice(0,p))}return l+i},Wn.unescape=function(e){return(e=ba(e))&&G.test(e)?e.replace(V,pn):e},Wn.uniqueId=function(e){var t=++Be;return ba(e)+t},Wn.upperCase=Ja,Wn.upperFirst=Xa,Wn.each=bo,Wn.eachRight=wo,Wn.first=Vs,lu(Wn,function(){var e={};return wr(Wn,(function(t,n){De.call(Wn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Wn.VERSION="4.17.20",Ct(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Wn[e].placeholder=Wn})),Ct(["drop","take"],(function(e,t){Hn.prototype[e]=function(r){r=r===n?1:_n(ma(r),0);var i=this.__filtered__&&!t?new Hn(this):this.clone();return i.__filtered__?i.__takeCount__=bn(r,i.__takeCount__):i.__views__.push({size:bn(r,d),type:e+(i.__dir__<0?"Right":"")}),i},Hn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ct(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Hn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ls(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ct(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Hn.prototype[e]=function(){return this[n](1).value()[0]}})),Ct(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Hn.prototype[e]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(su)},Hn.prototype.find=function(e){return this.filter(e).head()},Hn.prototype.findLast=function(e){return this.reverse().find(e)},Hn.prototype.invokeMap=Jr((function(e,t){return"function"==typeof e?new Hn(this):this.map((function(n){return Ir(n,e,t)}))})),Hn.prototype.reject=function(e){return this.filter(Do(ls(e)))},Hn.prototype.slice=function(e,t){e=ma(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Hn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(r=(t=ma(t))<0?r.dropRight(-t):r.take(t-e)),r)},Hn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hn.prototype.toArray=function(){return this.take(d)},wr(Hn.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),s=Wn[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);s&&(Wn.prototype[t]=function(){var t=this.__wrapped__,a=i?[1]:arguments,u=t instanceof Hn,l=a[0],c=u||Zo(t),f=function(e){var t=s.apply(Wn,jt([e],a));return i&&h?t[0]:t};c&&r&&"function"==typeof l&&1!=l.length&&(u=c=!1);var h=this.__chain__,p=!!this.__actions__.length,d=o&&!h,g=u&&!p;if(!o&&c){t=g?t:new Hn(this);var m=e.apply(t,a);return m.__actions__.push({func:go,args:[f],thisArg:n}),new qn(m,h)}return d&&g?e.apply(this,a):(m=this.thru(f),d?i?m.value()[0]:m.value():m)})})),Ct(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Te[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Wn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Zo(i)?i:[],e)}return this[n]((function(n){return t.apply(Zo(n)?n:[],e)}))}})),wr(Hn.prototype,(function(e,t){var n=Wn[t];if(n){var r=n.name+"";De.call(Tn,r)||(Tn[r]=[]),Tn[r].push({name:t,func:n})}})),Tn[Wi(n,2).name]=[{name:"wrapper",func:n}],Hn.prototype.clone=function(){var e=new Hn(this.__wrapped__);return e.__actions__=Ri(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ri(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ri(this.__views__),e},Hn.prototype.reverse=function(){if(this.__filtered__){var e=new Hn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Zo(e),r=t<0,i=n?e.length:0,s=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var s=n[r],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=bn(t,e+o);break;case"takeRight":e=_n(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=s.start,a=s.end,u=a-o,l=r?a:o-1,c=this.__iteratees__,f=c.length,h=0,p=bn(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return gi(e,this.__actions__);var d=[];e:for(;u--&&h<p;){for(var g=-1,m=e[l+=t];++g<f;){var v=c[g],y=v.iteratee,_=v.type,b=y(m);if(2==_)m=b;else if(!b){if(1==_)continue e;break e}}d[h++]=m}return d},Wn.prototype.at=mo,Wn.prototype.chain=function(){return po(this)},Wn.prototype.commit=function(){return new qn(this.value(),this.__chain__)},Wn.prototype.next=function(){this.__values__===n&&(this.__values__=da(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}},Wn.prototype.plant=function(e){for(var t,r=this;r instanceof Un;){var i=Ns(r);i.__index__=0,i.__values__=n,t?s.__wrapped__=i:t=i;var s=i;r=r.__wrapped__}return s.__wrapped__=e,t},Wn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hn){var t=e;return this.__actions__.length&&(t=new Hn(this)),(t=t.reverse()).__actions__.push({func:go,args:[to],thisArg:n}),new qn(t,this.__chain__)}return this.thru(to)},Wn.prototype.toJSON=Wn.prototype.valueOf=Wn.prototype.value=function(){return gi(this.__wrapped__,this.__actions__)},Wn.prototype.first=Wn.prototype.head,at&&(Wn.prototype[at]=function(){return this}),Wn}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ht._=dn,define((function(){return dn}))):dt?((dt.exports=dn)._=dn,pt._=dn):ht._=dn}.call(this),t.exports}.call({}),ue={};Object.defineProperty(ue,"__esModule",{value:!0});var le={};Object.defineProperty(le,"__esModule",{value:!0});var ce=class{constructor(e){this.disposed=!1,this.callback=e}isDisposed(){return this.disposed}dispose(){this.disposed||(this.disposed=!0,"function"==typeof this.callback&&this.callback(),this.callback=null)}};le.Disposable=ce,Object.defineProperty(ue,"Disposable",{enumerable:!0,get:function(){return le.Disposable}});var fe={};Object.defineProperty(fe,"__esModule",{value:!0});var he=class{constructor(){this.disposed=!1,this.disposables=new Set(arguments)}add(){if(!this.disposed)for(var e=arguments.length,t=0;t<e;++t)this.disposables.add(arguments[t])}remove(){if(!this.disposed)for(var e=arguments.length,t=0;t<e;++t)this.disposables.delete(arguments[t])}clear(){this.disposed||this.disposables.clear()}isDisposed(){return this.disposed}dispose(){if(!this.disposed){var e=!0,t=!1,n=void 0;try{for(var r,i=this.disposables[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){r.value.dispose()}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}this.disposed=!0,this.disposables.clear()}}};fe.CompositeDisposable=he,Object.defineProperty(ue,"CompositeDisposable",{enumerable:!0,get:function(){return fe.CompositeDisposable}});var pe={};Object.defineProperty(pe,"__esModule",{value:!0});var de=void 0;function ge(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}pe.Emitter=de;de=class{constructor(){this.disposed=!1,this.handlers={}}on(e,t){var n=this;if(this.disposed)throw new Error("Emitter has been disposed");if("function"!=typeof t)throw new Error("Event handler must be a function");return void 0===this.handlers[e]?this.handlers[e]=new Set([t]):this.handlers[e].add(t),new le.Disposable((function(){n.off(e,t)}))}off(e,t){!this.disposed&&this.handlers[e]&&this.handlers[e].delete(t)}clear(){this.handlers={}}emit(e){if(!this.disposed&&void 0!==this.handlers[e]){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.length,s=[],o=!0,a=!1,u=void 0;try{for(var l,c=this.handlers[e][Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var f=l.value,h=void 0;h=1===i?f(n[0]):2===i?f(n[0],n[1]):3===i?f(n[0],n[1],n[2]):4===i?f(n[0],n[1],n[2],n[3]):5===i?f(n[0],n[1],n[2],n[3],n[4]):f.apply(void 0,ge(n)),s.push(h)}}catch(e){a=!0,u=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw u}}return Promise.all(s)}}isDisposed(){return this.disposed}dispose(){this.disposed=!0,this.handlers={}}},pe.Emitter=de,Object.defineProperty(ue,"Emitter",{enumerable:!0,get:function(){return pe.Emitter}}),oe=function(e,t,n){if(e.on)e.on(t,n);else if(e.addListener)e.addListener(t,n);else{if(!e.addEventListener)throw new Error("Unknown event emitter");e.addEventListener(t,n)}return new ue.Disposable((function(){if(e.off)e.off(t,n);else if(e.removeListener)e.removeListener(t,n);else{if(!e.removeEventListener)throw new Error("Unknown event emitter");e.removeEventListener(t,n)}}))};class me{constructor(){this.emitter=new m,this.expanded=!1,this.subscriptions=new d,this.subscriptions.add(this.emitter),this.subscriptions.add(atom.config.observe("linter-ui-default.showProviderName",(e=>{const t=void 0!==this.showProviderName;this.showProviderName=e,t&&this.emitter.emit("should-update")}))),this.subscriptions.add(atom.commands.add("atom-workspace",{"linter-ui-default:expand-tooltip":e=>{var t;this.expanded||(this.expanded=!0,this.emitter.emit("should-expand"),(null===(t=null==e?void 0:e.originalEvent)||void 0===t?void 0:t.isTrusted)&&document.body.addEventListener("keyup",(function e(){document.body.removeEventListener("keyup",e),atom.commands.dispatch(atom.views.getView(atom.workspace),"linter-ui-default:collapse-tooltip")})))},"linter-ui-default:collapse-tooltip":()=>{this.expanded=!1,this.emitter.emit("should-collapse")}}))}onShouldUpdate(e){return this.emitter.on("should-update",e)}onShouldExpand(e){return this.emitter.on("should-expand",e)}onShouldCollapse(e){return this.emitter.on("should-collapse",e)}dispose(){this.emitter.dispose()}}var ve,ye,_e={},be={};function we(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}be={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:we,changeDefaults:function(e){ye=e,be.defaults=ye}};var ke;const xe=/[&<>"']/,Se=/[&<>"']/g,Ee=/[<>"']|&(?!#?\w+;)/,Ce=/[<>"']|&(?!#?\w+;)/g,Pe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ae=e=>Pe[e];const ze=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Re(e){return e.replace(ze,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const Ie=/(^|[^\[])\^/g;const Te=/[^\w:]/g,je=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;const $e={},Le=/^[^:]+:\/*[^/]*$/,Oe=/^([^:]+:)[\s\S]*$/,De=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Be(e,t){$e[" "+e]||(Le.test(e)?$e[" "+e]=e+"/":$e[" "+e]=Me(e,"/",!0));const n=-1===(e=$e[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(Oe,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(De,"$1")+t:e+t}function Me(e,t,n){const r=e.length;if(0===r)return"";let i=0;for(;i<r;){const s=e.charAt(r-i-1);if(s!==t||n){if(s===t||!n)break;i++}else i++}return e.substr(0,r-i)}ke={escape:function(e,t){if(t){if(xe.test(e))return e.replace(Se,Ae)}else if(Ee.test(e))return e.replace(Ce,Ae);return e},unescape:Re,edit:function(e,t){e=e.source||e,t=t||"";const n={replace:(t,r)=>(r=(r=r.source||r).replace(Ie,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n},cleanUrl:function(e,t,n){if(e){let e;try{e=decodeURIComponent(Re(n)).replace(Te,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!je.test(n)&&(n=Be(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n},resolveUrl:Be,noopTest:{exec:function(){}},merge:function(e){let t,n,r=1;for(;r<arguments.length;r++)for(n in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},splitCells:function(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let r=!1,i=t;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(/ \|/);let r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n},rtrim:Me,findClosingBracket:function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let r=0,i=0;for(;i<n;i++)if("\\"===e[i])i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&(r--,r<0))return i;return-1},checkSanitizeDeprecation:function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},repeatString:function(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}};const{rtrim:Ne,splitCells:We,escape:Fe,findClosingBracket:Ue}=ke;function qe(e,t,n){const r=t.href,i=t.title?Fe(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");return"!"!==e[0].charAt(0)?{type:"link",raw:n,href:r,title:i,text:s}:{type:"image",raw:n,href:r,title:i,text:Fe(s)}}ve=class{constructor(e){this.options=e||ye}space(e){const t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}}code(e,t){const n=this.rules.block.code.exec(e);if(n){const e=t[t.length-1];if(e&&"paragraph"===e.type)return{raw:n[0],text:n[0].trimRight()};const r=n[0].replace(/^ {4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Ne(r,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const r=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=r.length?e.slice(r.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim():t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[1].length,text:t[2]}}nptable(e){const t=this.rules.block.nptable.exec(e);if(t){const e={type:"table",header:We(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[],raw:t[0]};if(e.header.length===e.align.length){let t,n=e.align.length;for(t=0;t<n;t++)/^ *-+: *$/.test(e.align[t])?e.align[t]="right":/^ *:-+: *$/.test(e.align[t])?e.align[t]="center":/^ *:-+ *$/.test(e.align[t])?e.align[t]="left":e.align[t]=null;for(n=e.cells.length,t=0;t<n;t++)e.cells[t]=We(e.cells[t],e.header.length);return e}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],text:e}}}list(e){const t=this.rules.block.list.exec(e);if(t){let e=t[0];const n=t[2],r=n.length>1,i=")"===n[n.length-1],s={type:"list",raw:e,ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]},o=t[0].match(this.rules.block.item);let a,u,l,c,f,h,p,d=!1;const g=o.length;for(let t=0;t<g;t++)a=o[t],e=a,u=a.length,a=a.replace(/^ *([*+-]|\d+[.)]) ?/,""),~a.indexOf("\n ")&&(u-=a.length,a=this.options.pedantic?a.replace(/^ {1,4}/gm,""):a.replace(new RegExp("^ {1,"+u+"}","gm"),"")),t!==g-1&&(l=this.rules.block.bullet.exec(o[t+1])[0],(r?1===l.length||!i&&")"===l[l.length-1]:l.length>1||this.options.smartLists&&l!==n)&&(c=o.slice(t+1).join("\n"),s.raw=s.raw.substring(0,s.raw.length-c.length),t=g-1)),f=d||/\n\n(?!\s*$)/.test(a),t!==g-1&&(d="\n"===a.charAt(a.length-1),f||(f=d)),f&&(s.loose=!0),h=/^\[[ xX]\] /.test(a),p=void 0,h&&(p=" "!==a[1],a=a.replace(/^\[[ xX]\] +/,"")),s.items.push({type:"list_item",raw:e,task:h,checked:p,loose:f,text:a});return s}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?"paragraph":"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Fe(t[0]):t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){t[3]&&(t[3]=t[3].substring(1,t[3].length-1));return{tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:We(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,r=e.align.length;for(n=0;n<r;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(r=e.cells.length,n=0;n<r;n++)e.cells[n]=We(e.cells[n].replace(/^ *\| *| *\| *$/g,""),e.header.length);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1]}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t)return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}}text(e,t){const n=this.rules.block.text.exec(e);if(n){const e=t[t.length-1];return e&&"text"===e.type?{raw:n[0],text:n[0]}:{type:"text",raw:n[0],text:n[0]}}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Fe(t[1])}}tag(e,t,n){const r=this.rules.inline.tag.exec(e);if(r)return!t&&/^<a /i.test(r[0])?t=!0:t&&/^<\/a>/i.test(r[0])&&(t=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:t,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Fe(r[0]):r[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=Ue(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}let n=t[2],r="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e?(n=e[1],r=e[3]):r=""}else r=t[3]?t[3].slice(1,-1):"";n=n.trim().replace(/^<([\s\S]*)>$/,"$1");return qe(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:r?r.replace(this.rules.inline._escapes,"$1"):r},t[0])}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e||!e.href){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return qe(n,e,n[0])}}strong(e,t,n=""){let r=this.rules.inline.strong.start.exec(e);if(r&&(!r[1]||r[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){t=t.slice(-1*e.length);const n="**"===r[0]?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;let i;for(n.lastIndex=0;null!=(r=n.exec(t));)if(i=this.rules.inline.strong.middle.exec(t.slice(0,r.index+3)),i)return{type:"strong",raw:e.slice(0,i[0].length),text:e.slice(2,i[0].length-2)}}}em(e,t,n=""){let r=this.rules.inline.em.start.exec(e);if(r&&(!r[1]||r[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){t=t.slice(-1*e.length);const n="*"===r[0]?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;let i;for(n.lastIndex=0;null!=(r=n.exec(t));)if(i=this.rules.inline.em.middle.exec(t.slice(0,r.index+2)),i)return{type:"em",raw:e.slice(0,i[0].length),text:e.slice(1,i[0].length-1)}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),r=e.startsWith(" ")&&e.endsWith(" ");return n&&r&&(e=e.substring(1,e.length-1)),e=Fe(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[1]}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,r;return"@"===n[2]?(e=Fe(this.options.mangle?t(n[1]):n[1]),r="mailto:"+e):(e=Fe(n[1]),r=e),{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,r;if("@"===n[2])e=Fe(this.options.mangle?t(n[0]):n[0]),r="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=Fe(n[0]),r="www."===n[1]?"http://"+e:e}return{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t,n){const r=this.rules.inline.text.exec(e);if(r){let e;return e=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Fe(r[0]):r[0]:Fe(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:e}}}};var He;const{noopTest:Ze,edit:Ve,merge:Ke}=ke,Ge={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:Ze,table:Ze,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Ge.def=Ve(Ge.def).replace("label",Ge._label).replace("title",Ge._title).getRegex(),Ge.bullet=/(?:[*+-]|\d{1,9}[.)])/,Ge.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,Ge.item=Ve(Ge.item,"gm").replace(/bull/g,Ge.bullet).getRegex(),Ge.list=Ve(Ge.list).replace(/bull/g,Ge.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ge.def.source+")").getRegex(),Ge._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ge._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Ge.html=Ve(Ge.html,"i").replace("comment",Ge._comment).replace("tag",Ge._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ge.paragraph=Ve(Ge._paragraph).replace("hr",Ge.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",Ge._tag).getRegex(),Ge.blockquote=Ve(Ge.blockquote).replace("paragraph",Ge.paragraph).getRegex(),Ge.normal=Ke({},Ge),Ge.gfm=Ke({},Ge.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Ge.gfm.nptable=Ve(Ge.gfm.nptable).replace("hr",Ge.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",Ge._tag).getRegex(),Ge.gfm.table=Ve(Ge.gfm.table).replace("hr",Ge.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",Ge._tag).getRegex(),Ge.pedantic=Ke({},Ge.normal,{html:Ve("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Ge._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:Ze,paragraph:Ve(Ge.normal._paragraph).replace("hr",Ge.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Ge.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Ye={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Ze,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Ze,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};Ye.punctuation=Ve(Ye.punctuation).replace(/punctuation/g,Ye._punctuation).getRegex(),Ye._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",Ye._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",Ye._comment=Ve(Ge._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Ye.em.start=Ve(Ye.em.start).replace(/punctuation/g,Ye._punctuation).getRegex(),Ye.em.middle=Ve(Ye.em.middle).replace(/punctuation/g,Ye._punctuation).replace(/overlapSkip/g,Ye._overlapSkip).getRegex(),Ye.em.endAst=Ve(Ye.em.endAst,"g").replace(/punctuation/g,Ye._punctuation).getRegex(),Ye.em.endUnd=Ve(Ye.em.endUnd,"g").replace(/punctuation/g,Ye._punctuation).getRegex(),Ye.strong.start=Ve(Ye.strong.start).replace(/punctuation/g,Ye._punctuation).getRegex(),Ye.strong.middle=Ve(Ye.strong.middle).replace(/punctuation/g,Ye._punctuation).replace(/overlapSkip/g,Ye._overlapSkip).getRegex(),Ye.strong.endAst=Ve(Ye.strong.endAst,"g").replace(/punctuation/g,Ye._punctuation).getRegex(),Ye.strong.endUnd=Ve(Ye.strong.endUnd,"g").replace(/punctuation/g,Ye._punctuation).getRegex(),Ye.blockSkip=Ve(Ye._blockSkip,"g").getRegex(),Ye.overlapSkip=Ve(Ye._overlapSkip,"g").getRegex(),Ye._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Ye._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Ye._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Ye.autolink=Ve(Ye.autolink).replace("scheme",Ye._scheme).replace("email",Ye._email).getRegex(),Ye._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Ye.tag=Ve(Ye.tag).replace("comment",Ye._comment).replace("attribute",Ye._attribute).getRegex(),Ye._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ye._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,Ye._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Ye.link=Ve(Ye.link).replace("label",Ye._label).replace("href",Ye._href).replace("title",Ye._title).getRegex(),Ye.reflink=Ve(Ye.reflink).replace("label",Ye._label).getRegex(),Ye.reflinkSearch=Ve(Ye.reflinkSearch,"g").replace("reflink",Ye.reflink).replace("nolink",Ye.nolink).getRegex(),Ye.normal=Ke({},Ye),Ye.pedantic=Ke({},Ye.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ve(/^!?\[(label)\]\((.*?)\)/).replace("label",Ye._label).getRegex(),reflink:Ve(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ye._label).getRegex()}),Ye.gfm=Ke({},Ye.normal,{escape:Ve(Ye.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),Ye.gfm.url=Ve(Ye.gfm.url,"i").replace("email",Ye.gfm._extended_email).getRegex(),Ye.breaks=Ke({},Ye.gfm,{br:Ve(Ye.br).replace("{2,}","*").getRegex(),text:Ve(Ye.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),He={block:Ge,inline:Ye};const{block:Je,inline:Xe}=He,{repeatString:Qe}=ke;function et(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function tt(e){let t,n,r="";const i=e.length;for(t=0;t<i;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}_e=class e{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ye,this.options.tokenizer=this.options.tokenizer||new ve,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;const t={block:Je.normal,inline:Xe.normal};this.options.pedantic?(t.block=Je.pedantic,t.inline=Xe.pedantic):this.options.gfm&&(t.block=Je.gfm,this.options.breaks?t.inline=Xe.breaks:t.inline=Xe.gfm),this.tokenizer.rules=t}static get rules(){return{block:Je,inline:Xe}}static lex(t,n){return new e(n).lex(t)}static lexInline(t,n){return new e(n).inlineTokens(t)}lex(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens}blockTokens(e,t=[],n=!0){let r,i,s,o;for(e=e.replace(/^ +$/gm,"");e;)if(r=this.tokenizer.space(e))e=e.substring(r.raw.length),r.type&&t.push(r);else if(r=this.tokenizer.code(e,t))e=e.substring(r.raw.length),r.type?t.push(r):(o=t[t.length-1],o.raw+="\n"+r.raw,o.text+="\n"+r.text);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.nptable(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),r.tokens=this.blockTokens(r.text,[],n),t.push(r);else if(r=this.tokenizer.list(e)){for(e=e.substring(r.raw.length),s=r.items.length,i=0;i<s;i++)r.items[i].tokens=this.blockTokens(r.items[i].text,[],!1);t.push(r)}else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),t.push(r);else if(n&&(r=this.tokenizer.def(e)))e=e.substring(r.raw.length),this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),t.push(r);else if(n&&(r=this.tokenizer.paragraph(e)))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.text(e,t))e=e.substring(r.raw.length),r.type?t.push(r):(o=t[t.length-1],o.raw+="\n"+r.raw,o.text+="\n"+r.text);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}return t}inline(e){let t,n,r,i,s,o;const a=e.length;for(t=0;t<a;t++)switch(o=e[t],o.type){case"paragraph":case"text":case"heading":o.tokens=[],this.inlineTokens(o.text,o.tokens);break;case"table":for(o.tokens={header:[],cells:[]},i=o.header.length,n=0;n<i;n++)o.tokens.header[n]=[],this.inlineTokens(o.header[n],o.tokens.header[n]);for(i=o.cells.length,n=0;n<i;n++)for(s=o.cells[n],o.tokens.cells[n]=[],r=0;r<s.length;r++)o.tokens.cells[n][r]=[],this.inlineTokens(s[r],o.tokens.cells[n][r]);break;case"blockquote":this.inline(o.tokens);break;case"list":for(i=o.items.length,n=0;n<i;n++)this.inline(o.items[n].tokens)}return e}inlineTokens(e,t=[],n=!1,r=!1,i=""){let s,o,a=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(a));)e.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,o.index)+"["+Qe("a",o[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(a));)a=a.slice(0,o.index)+"["+Qe("a",o[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;e;)if(s=this.tokenizer.escape(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.tag(e,n,r))e=e.substring(s.raw.length),n=s.inLink,r=s.inRawBlock,t.push(s);else if(s=this.tokenizer.link(e))e=e.substring(s.raw.length),"link"===s.type&&(s.tokens=this.inlineTokens(s.text,[],!0,r)),t.push(s);else if(s=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(s.raw.length),"link"===s.type&&(s.tokens=this.inlineTokens(s.text,[],!0,r)),t.push(s);else if(s=this.tokenizer.strong(e,a,i))e=e.substring(s.raw.length),s.tokens=this.inlineTokens(s.text,[],n,r),t.push(s);else if(s=this.tokenizer.em(e,a,i))e=e.substring(s.raw.length),s.tokens=this.inlineTokens(s.text,[],n,r),t.push(s);else if(s=this.tokenizer.codespan(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.br(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.del(e))e=e.substring(s.raw.length),s.tokens=this.inlineTokens(s.text,[],n,r),t.push(s);else if(s=this.tokenizer.autolink(e,tt))e=e.substring(s.raw.length),t.push(s);else if(n||!(s=this.tokenizer.url(e,tt))){if(s=this.tokenizer.inlineText(e,r,et))e=e.substring(s.raw.length),i=s.raw.slice(-1),t.push(s);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(s.raw.length),t.push(s);return t}};var nt,rt={};const{cleanUrl:it,escape:st}=ke;nt=class{constructor(e){this.options=e||ye}code(e,t,n){const r=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,r);null!=t&&t!==e&&(n=!0,e=t)}return r?'<pre><code class="'+this.options.langPrefix+st(r,!0)+'">'+(n?e:st(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:st(e,!0))+"</code></pre>\n"}blockquote(e){return"<blockquote>\n"+e+"</blockquote>\n"}html(e){return e}heading(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e){return"<li>"+e+"</li>\n"}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+"</p>\n"}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return"<tr>\n"+e+"</tr>\n"}tablecell(e,t){const n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,n){if(null===(e=it(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<a href="'+st(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>",r}image(e,t,n){if(null===(e=it(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">",r}text(e){return e}};var ot;ot=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}};var at;at=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{r++,n=e+"-"+r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}};const{unescape:ut}=ke;rt=class e{constructor(e){this.options=e||ye,this.options.renderer=this.options.renderer||new nt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ot,this.slugger=new at}static parse(t,n){return new e(n).parse(t)}static parseInline(t,n){return new e(n).parseInline(t)}parse(e,t=!0){let n,r,i,s,o,a,u,l,c,f,h,p,d,g,m,v,y,_,b="";const w=e.length;for(n=0;n<w;n++)switch(f=e[n],f.type){case"space":continue;case"hr":b+=this.renderer.hr();continue;case"heading":b+=this.renderer.heading(this.parseInline(f.tokens),f.depth,ut(this.parseInline(f.tokens,this.textRenderer)),this.slugger);continue;case"code":b+=this.renderer.code(f.text,f.lang,f.escaped);continue;case"table":for(l="",u="",s=f.header.length,r=0;r<s;r++)u+=this.renderer.tablecell(this.parseInline(f.tokens.header[r]),{header:!0,align:f.align[r]});for(l+=this.renderer.tablerow(u),c="",s=f.cells.length,r=0;r<s;r++){for(a=f.tokens.cells[r],u="",o=a.length,i=0;i<o;i++)u+=this.renderer.tablecell(this.parseInline(a[i]),{header:!1,align:f.align[i]});c+=this.renderer.tablerow(u)}b+=this.renderer.table(l,c);continue;case"blockquote":c=this.parse(f.tokens),b+=this.renderer.blockquote(c);continue;case"list":for(h=f.ordered,p=f.start,d=f.loose,s=f.items.length,c="",r=0;r<s;r++)m=f.items[r],v=m.checked,y=m.task,g="",m.task&&(_=this.renderer.checkbox(v),d?m.tokens.length>0&&"text"===m.tokens[0].type?(m.tokens[0].text=_+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=_+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:_}):g+=_),g+=this.parse(m.tokens,d),c+=this.renderer.listitem(g,y,v);b+=this.renderer.list(c,h,p);continue;case"html":b+=this.renderer.html(f.text);continue;case"paragraph":b+=this.renderer.paragraph(this.parseInline(f.tokens));continue;case"text":for(c=f.tokens?this.parseInline(f.tokens):f.text;n+1<w&&"text"===e[n+1].type;)f=e[++n],c+="\n"+(f.tokens?this.parseInline(f.tokens):f.text);b+=t?this.renderer.paragraph(c):c;continue;default:{const e='Token with "'+f.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return b}parseInline(e,t){t=t||this.renderer;let n,r,i="";const s=e.length;for(n=0;n<s;n++)switch(r=e[n],r.type){case"escape":i+=t.text(r.text);break;case"html":i+=t.html(r.text);break;case"link":i+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":i+=t.image(r.href,r.title,r.text);break;case"strong":i+=t.strong(this.parseInline(r.tokens,t));break;case"em":i+=t.em(this.parseInline(r.tokens,t));break;case"codespan":i+=t.codespan(r.text);break;case"br":i+=t.br();break;case"del":i+=t.del(this.parseInline(r.tokens,t));break;case"text":i+=t.text(r.text);break;default:{const e='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return i}};const{merge:lt,checkSanitizeDeprecation:ct,escape:ft}=ke,{getDefaults:ht,changeDefaults:pt}=be;function dt(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),t=lt({},dt.defaults,t||{}),ct(t),n){const r=t.highlight;let i;try{i=_e.lex(e,t)}catch(e){return n(e)}const s=function(e){let s;if(!e)try{s=rt.parse(i,t)}catch(t){e=t}return t.highlight=r,e?n(e):n(null,s)};if(!r||r.length<3)return s();if(delete t.highlight,!i.length)return s();let o=0;return dt.walkTokens(i,(function(e){"code"===e.type&&(o++,setTimeout((()=>{r(e.text,e.lang,(function(t,n){if(t)return s(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),o--,0===o&&s()}))}),0))})),void(0===o&&s())}try{const n=_e.lex(e,t);return t.walkTokens&&dt.walkTokens(n,t.walkTokens),rt.parse(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+ft(e.message+"",!0)+"</pre>";throw e}}dt.options=dt.setOptions=function(e){return lt(dt.defaults,e),pt(dt.defaults),dt},dt.getDefaults=ht,dt.defaults=ye,dt.use=function(e){const t=lt({},e);if(e.renderer){const n=dt.defaults.renderer||new nt;for(const t in e.renderer){const r=n[t];n[t]=(...i)=>{let s=e.renderer[t].apply(n,i);return!1===s&&(s=r.apply(n,i)),s}}t.renderer=n}if(e.tokenizer){const n=dt.defaults.tokenizer||new ve;for(const t in e.tokenizer){const r=n[t];n[t]=(...i)=>{let s=e.tokenizer[t].apply(n,i);return!1===s&&(s=r.apply(n,i)),s}}t.tokenizer=n}if(e.walkTokens){const n=dt.defaults.walkTokens;t.walkTokens=t=>{e.walkTokens(t),n&&n(t)}}dt.setOptions(t)},dt.walkTokens=function(e,t){for(const n of e)switch(t(n),n.type){case"table":for(const e of n.tokens.header)dt.walkTokens(e,t);for(const e of n.tokens.cells)for(const n of e)dt.walkTokens(n,t);break;case"list":dt.walkTokens(n.items,t);break;default:n.tokens&&dt.walkTokens(n.tokens,t)}},dt.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=lt({},dt.defaults,t||{}),ct(t);try{const n=_e.lexInline(e,t);return t.walkTokens&&dt.walkTokens(n,t.walkTokens),rt.parseInline(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+ft(e.message+"",!0)+"</pre>";throw e}},dt.Parser=rt,dt.parser=rt.parse,dt.Renderer=nt,dt.TextRenderer=ot,dt.Lexer=_e,dt.lexer=_e.lex,dt.Tokenizer=ve,dt.Slugger=at,dt.parse=dt;var gt=({onClick:e})=>f.createElement("button",{className:"linter-ui-default-fix-btn",onClick:e},"Fix");var mt=y(dt);class vt extends f.Component{constructor(){super(...arguments),this.state={description:"",descriptionShow:!1},this.descriptionLoading=!1}componentDidMount(){this.props.delegate.onShouldUpdate((()=>{this.setState({})})),this.props.delegate.onShouldExpand((()=>{this.state.descriptionShow||this.toggleDescription()})),this.props.delegate.onShouldCollapse((()=>{this.state.descriptionShow&&this.toggleDescription()}))}onFixClick(){const e=this.props.message,t=A();2===e.version&&e.solutions&&e.solutions.length&&O(t,L(e.solutions)[0])}openFile(e){if(!(e.target instanceof HTMLElement))return;const t=function(e){for(;e&&!e.classList.contains("linter-line");){if(e instanceof HTMLAnchorElement)return e.href;e=e.parentElement}return null}(e.target);if(!t)return;const{protocol:n,hostname:r,query:s}=i(t,!0);if("atom:"===n&&"linter"===r&&s&&s.file){const{file:e,row:t,column:n}=s;I(Array.isArray(e)?e[0]:e,{row:parseInt(Array.isArray(t)?t[0]:t,10)||0,column:parseInt(Array.isArray(n)?n[0]:n,10)||0})}}canBeFixed(e){return!(2!==e.version||!e.solutions||!e.solutions.length)}toggleDescription(e=null){const t=!this.state.descriptionShow,n=this.state.description||this.props.message.description;if(t||e)if("string"==typeof n||e){const t=mt(e||n);this.setState({descriptionShow:!0,description:t})}else if("function"==typeof n){if(this.setState({descriptionShow:!0}),this.descriptionLoading)return;this.descriptionLoading=!0,new Promise((function(e){e(n())})).then((e=>{if("string"!=typeof e)throw new Error("Expected result to be string, got: "+typeof e);this.toggleDescription(e)})).catch((e=>{console.log("[Linter] Error getting descriptions",e),this.descriptionLoading=!1,this.state.descriptionShow&&this.toggleDescription()}))}else console.error("[Linter] Invalid description detected, expected string or function but got:",typeof n);else this.setState({descriptionShow:!1})}render(){const{message:e,delegate:t}=this.props;return f.createElement("linter-message",{class:e.severity,onClick:this.openFile},e.description&&f.createElement("a",{href:"#",onClick:()=>this.toggleDescription()},f.createElement("span",{className:"icon linter-icon icon-"+(this.state.descriptionShow?"chevron-down":"chevron-right")})),f.createElement("linter-excerpt",null,this.canBeFixed(e)&&f.createElement(gt,{onClick:()=>this.onFixClick()}),t.showProviderName?`${e.linterName}: `:"",e.excerpt)," ",e.reference&&e.reference.file&&f.createElement("a",{href:"#",onClick:()=>T(e,!0)},f.createElement("span",{className:"icon linter-icon icon-alignment-aligned-to"})),e.url&&f.createElement("a",{href:"#",onClick:()=>j(e)},f.createElement("span",{className:"icon linter-icon icon-link"})),this.state.descriptionShow&&f.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.description||"Loading..."},className:"linter-line"}))}}class yt{constructor(e,t,n){this.emitter=new m,this.element=document.createElement("div"),this.messages=e,this.subscriptions=new d,this.subscriptions.add(this.emitter),this.marker=n.markBufferRange([t,t]),this.marker.onDidDestroy((()=>this.emitter.emit("did-destroy")));const r=new me;this.element.id="linter-tooltip",n.decorateMarker(this.marker,{type:"overlay",item:this.element}),this.subscriptions.add(r);const i=[];e.forEach((e=>{2===e.version&&i.push(f.createElement(vt,{key:e.key,delegate:r,message:e}))})),u.render(f.createElement("linter-messages",null,i),this.element)}isValid(e,t){if(1!==this.messages.length||!t.has(this.messages[0].key))return!1;const n=E(this.messages[0]);return Boolean(n&&n.containsPoint(e))}onDidDestroy(e){return this.emitter.on("did-destroy",e)}dispose(){this.emitter.emit("did-destroy"),this.subscriptions.dispose()}}var _t=y(oe);class bt{constructor(e){this.tooltip=null,this.emitter=new m,this.markers=new Map,this.messages=new Map,this.textEditor=e,this.subscriptions=new d,this.ignoreTooltipInvocation=!1,this.currentLineMarker=null,this.lastRange=null,this.lastIsEmpty=null,this.lastCursorPositions=new WeakMap,this.subscriptions.add(this.emitter),this.subscriptions.add(atom.config.observe("linter-ui-default.showTooltip",(e=>{this.showTooltip=e,!this.showTooltip&&this.tooltip&&this.removeTooltip()}))),this.subscriptions.add(atom.config.observe("linter-ui-default.showProviderName",(e=>{this.showProviderName=e}))),this.subscriptions.add(atom.config.observe("linter-ui-default.showDecorations",(e=>{const t=void 0!==this.showDecorations;this.showDecorations=e,t&&this.updateGutter()}))),this.subscriptions.add(atom.config.observe("linter-ui-default.gutterPosition",(e=>{const t=void 0!==this.gutterPosition;this.gutterPosition=e,t&&this.updateGutter()}))),this.subscriptions.add(e.onDidDestroy((()=>{this.dispose()})));let t=null;this.subscriptions.add(atom.config.observe("linter-ui-default.tooltipFollows",(e=>{this.tooltipFollows=e,t&&t.dispose(),t=new d,"Mouse"!==e&&"Both"!==e||t.add(this.listenForMouseMovement()),"Keyboard"!==e&&"Both"!==e||t.add(this.listenForKeyboardMovement()),this.removeTooltip()}))),this.subscriptions.add(new g((function(){t.dispose()}))),this.subscriptions.add(e.onDidChangeCursorPosition((({cursor:e,newBufferPosition:t})=>{const n=this.lastCursorPositions.get(e);n&&n.isEqual(t)||(this.lastCursorPositions.set(e,t),this.ignoreTooltipInvocation=!1),"Mouse"===this.tooltipFollows&&this.removeTooltip()}))),this.subscriptions.add(e.getBuffer().onDidChangeText((()=>{e.getCursors().forEach((e=>{this.lastCursorPositions.set(e,e.getBufferPosition())})),"Mouse"!==this.tooltipFollows&&(this.ignoreTooltipInvocation=!0,this.removeTooltip())}))),this.updateGutter(),this.listenForCurrentLine()}listenForCurrentLine(){this.subscriptions.add(this.textEditor.observeCursors((e=>{const t=({start:e,end:t})=>{const n=this.gutter;if(!n||this.subscriptions.disposed)return;const r=v.fromObject([e,t]),i=v.fromObject([[e.row,0],[t.row,1/0]]),s=r.isEmpty();if(e.row!==t.row&&0===r.end.column&&i.end.row--,this.lastRange&&this.lastRange.isEqual(i)&&s===this.lastIsEmpty)return;this.currentLineMarker&&(this.currentLineMarker.destroy(),this.currentLineMarker=null),this.lastRange=i,this.lastIsEmpty=s,this.currentLineMarker=this.textEditor.markScreenRange(i,{invalidate:"never"});const o=document.createElement("span");o.className="line-number cursor-line linter-cursor-line "+(s?"cursor-line-no-selection":""),n.decorateMarker(this.currentLineMarker,{item:o,class:"linter-row"})},n=e.getMarker(),r=new d;r.add(n.onDidChange((({newHeadScreenPosition:e,newTailScreenPosition:n})=>{t({start:e,end:n})}))),r.add(e.onDidDestroy((()=>{this.subscriptions.remove(r),r.dispose()}))),r.add(new g((function(){this.currentLineMarker&&(this.currentLineMarker.destroy(),this.currentLineMarker=null)}))),this.subscriptions.add(r),t(n.getScreenRange())})))}listenForMouseMovement(){const e=atom.views.getView(this.textEditor);return _t(e,"mousemove",ae.debounce((t=>{if(!e.getComponent()||this.subscriptions.disposed||!function(e,t){let n=e;do{if(n.matches(t))return!0;n=n.parentElement}while(n&&"HTML"!==n.nodeName);return!1}(t.target,"div.scroll-view"))return;const n=this.tooltip;n&&function({event:e,editor:t,editorElement:n,tooltipElement:r,screenPosition:i}){const s=n.getComponent().pixelPositionForMouseEvent(e),o=n.pixelPositionForScreenPosition(i),a=s.top-o.top,u=s.left-o.left,l=t.getLineHeightInPixels(),c=r.offsetHeight+l,f=r.offsetWidth;if(a>0){if(a>c+1.5*l)return!1}else if(a<0&&a<-1.5*l)return!1;if(u>0){if(u>f+30)return!1}else if(u<0&&u<-30)return!1;return!0}({event:t,editor:this.textEditor,editorElement:e,tooltipElement:n.element,screenPosition:n.marker.getStartScreenPosition()})||(this.cursorPosition=function(e,t,n){const r=n.getComponent().pixelPositionForMouseEvent(e),i=n.getComponent().screenPositionForPixelPosition(r);if(Number.isNaN(i.row)||Number.isNaN(i.column))return null;const s=n.pixelPositionForScreenPosition(i),o=r.top-s.top,a=r.left-s.left;return(0===o||o>0&&o<20||o<0&&o>-20)&&(0===a||a>0&&a<20||a<0&&a>-20)?t.bufferPositionForScreenPosition(i):null}(t,this.textEditor,e),this.ignoreTooltipInvocation=!1,(this.textEditor.largeFileMode||this.textEditor.getLineCount()>2e4)&&(this.cursorPosition=null),this.cursorPosition?this.updateTooltip(this.cursorPosition):this.removeTooltip())}),300,!0))}listenForKeyboardMovement(){return this.textEditor.onDidChangeCursorPosition(ae.debounce((({newBufferPosition:e})=>{this.cursorPosition=e,this.updateTooltip(e)}),16))}updateGutter(){if(this.removeGutter(),!this.showDecorations)return void(this.gutter=null);const e="Left"===this.gutterPosition?-100:100;this.gutter=this.textEditor.addGutter({name:"linter-ui-default",priority:e}),this.markers.forEach(((e,t)=>{const n=this.messages.get(t);if(n)for(const t of e)this.decorateMarker(n,t,"gutter")}))}removeGutter(){if(this.gutter)try{this.gutter.destroy()}catch(e){}}updateTooltip(e){if(!e||this.tooltip&&this.tooltip.isValid(e,this.messages))return;if(this.removeTooltip(),!this.showTooltip)return;if(this.ignoreTooltipInvocation)return;const t=R(this.messages,this.textEditor.getPath(),e);t.length&&(this.tooltip=new yt(t,e,this.textEditor),t.forEach((e=>{this.saveMarker(e.key,this.tooltip.marker)})),this.tooltip.onDidDestroy((()=>{this.tooltip=null})))}removeTooltip(){this.tooltip&&this.tooltip.marker.destroy()}apply(e,t){const n=this.textEditor.getBuffer();for(let e=0,n=t.length;e<n;e++){const n=t[e];this.destroyMarker(n.key)}for(let t=0,r=e.length;t<r;t++){const r=e[t],i=E(r);if(!i)continue;const s=n.markRange(i,{invalidate:"never"});this.decorateMarker(r,s),s.onDidChange((({oldHeadPosition:e,newHeadPosition:t,isValid:n})=>{!n||0===t.row&&0!==e.row||2===r.version&&(r.location.position=s.previousEventState.range)}))}this.updateTooltip(this.cursorPosition)}decorateMarker(e,t,n="both"){this.saveMarker(e.key,t),this.messages.set(e.key,e),"both"!==n&&"editor"!==n||this.textEditor.decorateMarker(t,{type:"text",class:`linter-highlight linter-${e.severity}`});const r=this.gutter;if(r&&("both"===n||"gutter"===n)){const n=document.createElement("span");n.className=`linter-gutter linter-gutter-${e.severity} icon icon-${e.icon||"primitive-dot"}`,r.decorateMarker(t,{class:"linter-row",item:n})}}saveMarker(e,t){const n=this.markers.get(e)||[];n.push(t),this.markers.set(e,n)}destroyMarker(e){const t=this.markers.get(e);t&&t.forEach((e=>{e&&e.destroy()})),this.markers.delete(e),this.messages.delete(e)}onDidDestroy(e){return this.emitter.on("did-destroy",e)}dispose(){this.emitter.emit("did-destroy"),this.subscriptions.dispose(),this.removeGutter(),this.removeTooltip()}}class wt{constructor(){this.editors=new Set,this.messages=[],this.firstRender=!0,this.subscriptions=new d,this.subscriptions.add(atom.workspace.observeTextEditors((e=>{this.getEditor(e)}))),this.subscriptions.add(atom.workspace.getCenter().observeActivePaneItem((e=>{this.editors.forEach((t=>{t.textEditor!==e&&t.removeTooltip()}))})))}isFirstRender(){return this.firstRender}update({messages:e,added:t,removed:n}){this.messages=e,this.firstRender=!1;const{editorsMap:r,filePaths:i}=function(e){const t=new Map,n=[];for(const r of e.editors){const e=r.textEditor.getPath();t.has(e)?t.get(e).editors.push(r):(t.set(e,{added:[],removed:[],editors:[r]}),n.push(e))}return{editorsMap:t,filePaths:n}}(this);t.forEach((function(e){if(!e||!e.location)return;const t=C(e);t&&r.has(t)&&r.get(t).added.push(e)})),n.forEach((function(e){if(!e||!e.location)return;const t=C(e);t&&r.has(t)&&r.get(t).removed.push(e)})),i.forEach((function(e){const t=r.get(e);(t.added.length||t.removed.length)&&t.editors.forEach((e=>e.apply(t.added,t.removed)))}))}getEditor(e){for(const t of this.editors)if(t.textEditor===e)return t;const t=new bt(e);return this.editors.add(t),t.onDidDestroy((()=>{this.editors.delete(t)})),t.subscriptions.add(e.onDidChangePath((()=>{t.dispose(),this.getEditor(e)}))),t.subscriptions.add(e.onDidChangeGrammar((()=>{t.dispose(),this.getEditor(e)}))),t.apply(z(this.messages,e.getPath()),[]),t}dispose(){for(const e of this.editors)e.dispose();this.subscriptions.dispose()}}function kt(e,t){const n=t.find((t=>e.startsWith(t)));return n?function(e,t){const n=[],i=e.split(r.sep);for(;i.length;){const e=i.join(r.sep);if(e&&(n.push(e),e===t))break;i.pop()}return n}(e,n):[e]}class xt{constructor(){this.emitter=new m,this.messages=[],this.decorations={},this.subscriptions=new d,this.subscriptions.add(this.emitter),this.subscriptions.add(atom.config.observe("linter-ui-default.decorateOnTreeView",(e=>{if(void 0===this.decorateOnTreeView)this.decorateOnTreeView=e;else if("None"===e)this.update([]),this.decorateOnTreeView=e;else{const t=this.messages;this.decorateOnTreeView=e,this.update(t)}}))),setTimeout((()=>{const e=xt.getElement();e&&this.subscriptions.add(_t(e,"click",ae.debounce((()=>{this.update()}))))}),100)}update(e=null){Array.isArray(e)&&(this.messages=e);const t=this.messages,n=xt.getElement(),r=this.decorateOnTreeView;n&&"None"!==r&&this.applyDecorations(function(e,t){const n={},r=atom.project.getPaths();return t.forEach((function(t){const i=C(t);i&&("Files"===e?[i]:kt(i,r)).forEach((e=>function(e,t,n){e[t]||(e[t]={info:!1,error:!1,warning:!1}),e[t][n]=!0}(n,e,t.severity)))})),n}(r,t))}applyDecorations(e){const t=xt.getElement();if(!t)return;const n={},r={};Object.keys(this.decorations).forEach((r=>{if({}.hasOwnProperty.call(this.decorations,r)&&!e[r]){const e=n[r]||(n[r]=xt.getElementByPath(t,r));e&&this.removeDecoration(e)}})),Object.keys(e).forEach((i=>{if(!{}.hasOwnProperty.call(e,i))return;const s=n[i]||(n[i]=xt.getElementByPath(t,i));s&&(this.handleDecoration(s,!!this.decorations[i],e[i]),r[i]=e[i])})),this.decorations=r}handleDecoration(e,t=!1,n){let r;t&&(r=e.querySelector("linter-decoration")),r?r.className="":(r=document.createElement("linter-decoration"),e.appendChild(r)),n.error?r.classList.add("linter-error"):n.warning?r.classList.add("linter-warning"):n.info&&r.classList.add("linter-info")}removeDecoration(e){const t=e.querySelector("linter-decoration");t&&t.remove()}dispose(){this.subscriptions.dispose()}static getElement(){return document.querySelector(".tree-view")}static getElementByPath(e,t){return e.querySelector(`[data-path=${CSS.escape(t)}]`)}}class St{constructor(){this.name="Linter",this.idleCallbacks=new Set,this.signal=new ie,this.commands=new ee,this.messages=[],this.statusBar=new re,this.intentions=new se,this.subscriptions=new d,this.subscriptions.add(this.signal),this.subscriptions.add(this.commands),this.subscriptions.add(this.statusBar);const e=window.requestIdleCallback(function(){this.idleCallbacks.delete(e),this.panel=new Q,this.panel.update(this.messages)}.bind(this));this.idleCallbacks.add(e);const t=window.requestIdleCallback(function(){this.idleCallbacks.delete(t),this.subscriptions.add(atom.config.observe("linter-ui-default.showDecorations",(e=>{e&&!this.editors?(this.editors=new wt,this.editors.update({added:this.messages,removed:[],messages:this.messages})):!e&&this.editors&&(this.editors.dispose(),this.editors=null)})))}.bind(this));this.idleCallbacks.add(t)}render(e){const t=this.editors;this.messages=e.messages,t&&(t.isFirstRender()?t.update({added:e.messages,removed:[],messages:e.messages}):t.update(e)),this.treeview||(this.treeview=new xt,this.subscriptions.add(this.treeview)),this.treeview.update(e.messages),this.panel&&this.panel.update(e.messages),this.commands.update(e.messages),this.intentions.update(e.messages),this.statusBar.update(e.messages)}didBeginLinting(e,t){this.signal.didBeginLinting(e,t)}didFinishLinting(e,t){this.signal.didFinishLinting(e,t)}dispose(){this.idleCallbacks.forEach((e=>window.cancelIdleCallback(e))),this.idleCallbacks.clear(),this.subscriptions.dispose(),this.panel&&this.panel.dispose(),this.editors&&this.editors.dispose()}}const Et=new Set,Ct=new Set;let Pt,At;function zt(){atom.config.get("linter-ui-default.useBusySignal")&&atom.packages.getLoadedPackage("linter-ui-default").metadata["package-deps"].push("busy-signal");const e=window.requestIdleCallback((function(){Et.delete(e),atom.inSpecMode()||n.install("linter-ui-default")}));Et.add(e)}function Rt(){Et.forEach((e=>window.cancelIdleCallback(e))),Et.clear();for(const e of Ct)e.dispose();Ct.clear()}function It(){const e=new St;return Ct.add(e),Pt&&e.signal.attach(Pt),e}function Tt(){return Array.from(Ct).map((e=>e.intentions))}function jt(e){Pt=e,Ct.forEach((function(e){e.signal.attach(Pt)}))}function $t(e){At=e,Ct.forEach((function(e){e.statusBar.attach(At)}))}_(exports,"activate",(function(){return zt})),_(exports,"deactivate",(function(){return Rt})),_(exports,"provideUI",(function(){return It})),_(exports,"provideIntentions",(function(){return Tt})),_(exports,"consumeSignal",(function(){return jt})),_(exports,"consumeStatusBar",(function(){return $t}));
//# sourceMappingURL=index.js.map
