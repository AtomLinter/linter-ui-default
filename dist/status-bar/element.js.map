{"version":3,"file":"element.js","sourceRoot":"","sources":["../../lib/status-bar/element.ts"],"names":[],"mappings":"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","sourcesContent":["import { CompositeDisposable, Emitter } from 'atom'\r\nimport type { Disposable } from 'atom'\r\n\r\nimport * as Helpers from './helpers'\r\n\r\nexport default class Element {\r\n  item: HTMLElement\r\n  itemErrors: HTMLElement\r\n  itemWarnings: HTMLElement\r\n  itemInfos: HTMLElement\r\n\r\n  emitter: Emitter\r\n  subscriptions: CompositeDisposable\r\n\r\n  constructor() {\r\n    this.item = document.createElement('div')\r\n    this.itemErrors = Helpers.getElement('stop')\r\n    this.itemWarnings = Helpers.getElement('alert')\r\n    this.itemInfos = Helpers.getElement('info')\r\n\r\n    this.emitter = new Emitter()\r\n    this.subscriptions = new CompositeDisposable()\r\n\r\n    this.item.appendChild(this.itemErrors)\r\n    this.item.appendChild(this.itemWarnings)\r\n    this.item.appendChild(this.itemInfos)\r\n    this.item.classList.add('inline-block')\r\n    this.item.classList.add('linter-status-count')\r\n\r\n    this.subscriptions.add(this.emitter)\r\n    this.subscriptions.add(atom.tooltips.add(this.itemErrors, { title: 'Linter Errors' }))\r\n    this.subscriptions.add(atom.tooltips.add(this.itemWarnings, { title: 'Linter Warnings' }))\r\n    this.subscriptions.add(atom.tooltips.add(this.itemInfos, { title: 'Linter Infos' }))\r\n\r\n    this.itemErrors.onclick = () => this.emitter.emit('click', 'error')\r\n    this.itemWarnings.onclick = () => this.emitter.emit('click', 'warning')\r\n    this.itemInfos.onclick = () => this.emitter.emit('click', 'info')\r\n\r\n    this.update(0, 0, 0)\r\n  }\r\n  setVisibility(prefix: string, visibility: boolean) {\r\n    if (visibility) {\r\n      this.item.classList.remove(`hide-${prefix}`)\r\n    } else {\r\n      this.item.classList.add(`hide-${prefix}`)\r\n    }\r\n  }\r\n  update(countErrors: number, countWarnings: number, countInfos: number): void {\r\n    this.itemErrors.childNodes[0].textContent = String(countErrors)\r\n    this.itemWarnings.childNodes[0].textContent = String(countWarnings)\r\n    this.itemInfos.childNodes[0].textContent = String(countInfos)\r\n\r\n    if (countErrors) {\r\n      this.itemErrors.classList.add('text-error')\r\n    } else {\r\n      this.itemErrors.classList.remove('text-error')\r\n    }\r\n\r\n    if (countWarnings) {\r\n      this.itemWarnings.classList.add('text-warning')\r\n    } else {\r\n      this.itemWarnings.classList.remove('text-warning')\r\n    }\r\n\r\n    if (countInfos) {\r\n      this.itemInfos.classList.add('text-info')\r\n    } else {\r\n      this.itemInfos.classList.remove('text-info')\r\n    }\r\n  }\r\n  onDidClick(callback: (type: string) => void): Disposable {\r\n    return this.emitter.on('click', callback)\r\n  }\r\n  dispose() {\r\n    this.subscriptions.dispose()\r\n  }\r\n}\r\n"]}