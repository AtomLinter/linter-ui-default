{"version":3,"file":"element.js","sourceRoot":"","sources":["../../lib/status-bar/element.ts"],"names":[],"mappings":"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","sourcesContent":["import { CompositeDisposable, Emitter } from 'atom'\r\nimport type { Disposable } from 'atom'\r\n\r\nimport * as Helpers from './helpers'\r\n\r\nexport default class Element {\r\n  item: HTMLElement = document.createElement('div')\r\n  itemErrors: HTMLElement = Helpers.getElement('stop')\r\n  itemWarnings: HTMLElement = Helpers.getElement('alert')\r\n  itemInfos: HTMLElement = Helpers.getElement('info')\r\n\r\n  emitter = new Emitter<{}, { click: 'error' | 'warning' | 'info' }>() // eslint-disable-line @typescript-eslint/ban-types\r\n  subscriptions: CompositeDisposable = new CompositeDisposable()\r\n\r\n  constructor() {\r\n    this.item.appendChild(this.itemErrors)\r\n    this.item.appendChild(this.itemWarnings)\r\n    this.item.appendChild(this.itemInfos)\r\n    this.item.classList.add('inline-block')\r\n    this.item.classList.add('linter-status-count')\r\n\r\n    this.subscriptions.add(\r\n      this.emitter,\r\n      atom.tooltips.add(this.itemErrors, { title: 'Linter Errors' }),\r\n      atom.tooltips.add(this.itemWarnings, { title: 'Linter Warnings' }),\r\n      atom.tooltips.add(this.itemInfos, { title: 'Linter Infos' }),\r\n    )\r\n\r\n    this.itemErrors.onclick = () => this.emitter.emit('click', 'error')\r\n    this.itemWarnings.onclick = () => this.emitter.emit('click', 'warning')\r\n    this.itemInfos.onclick = () => this.emitter.emit('click', 'info')\r\n\r\n    this.update(0, 0, 0)\r\n  }\r\n  setVisibility(prefix: string, visibility: boolean) {\r\n    if (visibility) {\r\n      this.item.classList.remove(`hide-${prefix}`)\r\n    } else {\r\n      this.item.classList.add(`hide-${prefix}`)\r\n    }\r\n  }\r\n  update(countErrors: number, countWarnings: number, countInfos: number): void {\r\n    this.itemErrors.childNodes[0].textContent = String(countErrors)\r\n    this.itemWarnings.childNodes[0].textContent = String(countWarnings)\r\n    this.itemInfos.childNodes[0].textContent = String(countInfos)\r\n\r\n    if (countErrors) {\r\n      this.itemErrors.classList.add('text-error')\r\n    } else {\r\n      this.itemErrors.classList.remove('text-error')\r\n    }\r\n\r\n    if (countWarnings) {\r\n      this.itemWarnings.classList.add('text-warning')\r\n    } else {\r\n      this.itemWarnings.classList.remove('text-warning')\r\n    }\r\n\r\n    if (countInfos) {\r\n      this.itemInfos.classList.add('text-info')\r\n    } else {\r\n      this.itemInfos.classList.remove('text-info')\r\n    }\r\n  }\r\n  onDidClick(callback: (type: 'error' | 'warning' | 'info') => void): Disposable {\r\n    return this.emitter.on('click', callback)\r\n  }\r\n  dispose() {\r\n    this.subscriptions.dispose()\r\n  }\r\n}\r\n"]}